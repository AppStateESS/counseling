{"version":3,"sources":["../tmp/joined.jsx"],"names":[],"mappings":"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","file":"script.js","sourcesContent":["var ButtonGroup = React.createClass({\n    getInitialState: function() {\n        return {\n        };\n    },\n\n    getDefaultProps: function() {\n        return {\n            label : 'Action',\n            options : [\n                {\n                label : 'Action1',\n                handleClick : null,\n                divider : false\n                },\n            ]\n        };\n    },\n\n    render: function() {\n        var options = this.props.options.map(function(value, key){\n            return <ButtonGroupOption key={key} label={value.label} handleClick={value.handleClick} divider={value.divider} />;\n        });\n\n        return (\n            <div className=\"btn-group\">\n                <button type=\"button\" className=\"btn btn-default btn-sm dropdown-toggle\"\n                     data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                    {this.props.label} <span className=\"caret\"></span>\n                </button>\n                <ul className=\"dropdown-menu\">\n                    {options}\n                </ul>\n            </div>\n        );\n    }\n});\n\nvar ButtonGroupOption = React.createClass({\n    getDefaultProps: function() {\n        return {\n            label : null,\n            handleClick : null,\n            divider : false\n        };\n    },\n\n    render: function() {\n        if (this.props.divider) {\n            return (\n                <li role=\"separator\" className=\"divider\"></li>\n            );\n        } else {\n            return (\n                <li onClick={this.props.handleClick}><a style={{cursor : 'pointer'}}>{this.props.label}</a></li>\n            );\n        }\n    }\n\n});\n\nvar WaitingListStatus = React.createClass({\n\n    getDefaultProps: function() {\n        return {\n            visitor : null,\n            visitNumber : 0,\n            reload : null,\n        };\n    },\n\n    intakeComplete : function()\n    {\n        if (confirm('Click OK if student completed their intake form.')) {\n             $.post('counseling/Admin/Dashboard/Waiting/', {\n             \tcommand : 'intakeComplete',\n                visitorId : this.props.visitor.id\n             }, null, 'json')\n             \t.done(function(data){\n                    this.props.reload();\n             \t}.bind(this));\n        }\n\n    },\n\n    render: function() {\n        if (this.props.visitor.intake_complete === '1') {\n            if (this.props.visitNumber > 1) {\n                if (this.props.visitor.seen_last_visit === '0') {\n                    return <span className=\"label label-danger\">Unseen last visit</span>;\n                } else {\n                    return (\n                        <span className=\"label label-primary\">\n                            Previously seen @ {this.props.visitor.previously_seen}\n                        </span>\n                    );\n                }\n            } else {\n                return <span className=\"label label-success\">Intake complete</span>\n            }\n        } else {\n            return <span className=\"label label-danger\" style={{cursor:'pointer'}} title=\"Click to acknowledge intake completion\" onClick={this.intakeComplete}>Intake incomplete</span>\n        }\n    }\n\n});\n\nvar Summary = React.createClass({\n    getInitialState: function() {\n        return {error: null, errorMessage: null};\n    },\n\n    getDefaultProps: function() {\n        return {data: null, time : null};\n    },\n\n    serverError: function() {\n        this.setState({error: true, errorMessage: 'Could not retrieve server data'});\n    },\n\n    render: function() {\n        var currentTally = null;\n        var totalTally = null;\n        if (this.props.data) {\n            currentTally = this.props.data.currentTally;\n            totalTally = this.props.data.completeTally;\n        } else {\n            currentTally = {\n                emergencies: 0,\n                walkin: 0,\n                appointment: 0,\n                other: 0\n            };\n            totalTally = currentTally;\n        }\n        return (\n            <div className=\"summary\">\n                {this.state.error\n                    ? <div className=\"alert alert-danger\">{this.state.errorMessage}</div>\n                    : null}\n                <div className=\"row\">\n                    <div className=\"col-sm-6 left\">\n                        <h3>Current</h3>\n                        <div className=\"row\">\n                            <div className=\"col-sm-4\">\n                                <SummaryTotalWaiting {...this.props.data}/>\n                            </div>\n                            <div className=\"col-sm-4\">\n                                <SummaryEstimatedWait {...this.props.data}/>\n                            </div>\n                            <div className=\"col-sm-4\">\n                                <SummaryWaitingTally {...currentTally}/>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"col-sm-6 right\">\n                        <h4 className=\"pull-right\">{this.props.time}</h4><h3>Today</h3>\n                        <div className=\"row\">\n                            <div className=\"col-sm-2\">\n                                <SummaryTotalSeen {...this.props.data}/>\n                            </div>\n                            <div className=\"col-sm-3\">\n                                <SummaryCompleted {...this.props.data}/>\n                            </div>\n                            <div className=\"col-sm-3\">\n                                <SummaryAverageWait {...this.props.data}/>\n                            </div>\n                            <div className=\"col-sm-4\">\n                                <SummaryWaitingTally {...totalTally} showLabels={true}/>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n});\n\n\nvar SummaryCompleted = React.createClass({\n    getInitialState: function() {\n        return {\n            tooltip : true\n        };\n    },\n\n    getDefaultProps: function() {\n        return {totalComplete: 0, leaveReasons : null};\n    },\n\n    componentDidMount : function() {\n        $(window).load(function(){\n            this.loadTooltip();\n        }.bind(this));\n    },\n\n    loadTooltip : function() {\n        $('.total-complete div.big-number').popover({\n            animation:true,\n            placement:'bottom',\n            trigger:'hover',\n            container :'.summary .right',\n            title : 'Not seen reasons',\n            html : true\n        });\n        $('.total-complete div.big-number').css('cursor', 'pointer');\n        this.setState({tooltip : false});\n    },\n\n    render: function() {\n        var reasons = null;\n        if (this.props.leaveReasons !== null) {\n            reasons = this.props.leaveReasons.join('<br />');\n        }\n        return (\n            <div className=\"total-complete text-center\">\n                <div className=\"big-number\" data-content={reasons}>\n                    {this.props.totalComplete}\n                </div>\n                <div>Total<br />Visits</div>\n            </div>\n        );\n    }\n\n});\n\nvar SummaryTotalWaiting = React.createClass({\n    getDefaultProps: function() {\n        return {totalWaiting: 0};\n    },\n\n    render: function() {\n        return (\n            <div className=\"total-waiting text-center\">\n                <div className=\"big-number\">{this.props.totalWaiting}</div>\n                <div>Waiting</div>\n            </div>\n        );\n    }\n\n});\n\nvar SummaryEstimatedWait = React.createClass({\n    getDefaultProps: function() {\n        return {estimatedWait: 0};\n    },\n\n    render: function() {\n        return (\n            <div className=\"estimated-wait text-center\">\n                <div>\n                    <span className=\"big-number\">{this.props.estimatedWait}</span>\n                    <span>min</span>\n                </div>\n                <div>Est. Wait</div>\n            </div>\n        );\n    }\n\n});\n\nvar SummaryWaitingTally = React.createClass({\n    getDefaultProps: function() {\n        return {emergency: 0, walkin: 0, appointment: 0, other: 0, showLabels : true};\n    },\n\n    render: function() {\n        return (\n            <div>\n                <table className=\"tally\">\n                    <tbody>\n                        <tr>\n                            <td className=\"text-center\">\n                                <i className=\"fa fa-exclamation-triangle\"></i>\n                            </td>\n                            {this.props.showLabels ? <td>Emergency</td> : null}\n                            <td>{this.props.emergency}</td>\n                        </tr>\n                        <tr>\n                            <td className=\"text-center\">\n                                <i className=\"fa fa-male\"></i>\n                            </td>\n                            {this.props.showLabels ? <td>Walk-in</td> : null}\n                            <td>{this.props.walkin}</td>\n                        </tr>\n                        <tr>\n                            <td className=\"text-center\">\n                                <i className=\"fa fa-clock-o\"></i>\n                            </td>\n                            {this.props.showLabels ? <td>Appointment</td> : null}\n                            <td>{this.props.appointment}</td>\n                        </tr>\n                        <tr>\n                            <td className=\"text-center\">\n                                <i className=\"fa fa-question-circle\"></i>\n                            </td>\n                            {this.props.showLabels ? <td>Other</td> : null}\n                            <td>{this.props.other}</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n\n});\n\nvar SummaryTotalSeen = React.createClass({\n\n    getDefaultProps: function() {\n        return {totalSeen: 0};\n    },\n\n    render: function() {\n\n        return (\n            <div className=\"total-seen text-center\">\n                <div className=\"big-number\">{this.props.totalSeen}</div>\n                <div>Seen</div>\n            </div>\n        );\n    }\n\n});\n\nvar SummaryAverageWait = React.createClass({\n    getDefaultProps: function() {\n        return {averageWait: 0};\n    },\n\n    render: function() {\n        return (\n            <div className=\"average-wait text-center\">\n                <div>\n                    <span className=\"big-number\">{this.props.averageWait}</span>\n                    <span>min</span>\n                </div>\n                <div>Avg. Wait</div>\n            </div>\n        );\n    }\n\n});\n\nvar Emergency = React.createClass({\n    mixins : ['ButtonGroup'],\n\n    getInitialState: function() {\n        return {\n        };\n    },\n\n    getDefaultProps: function() {\n        return {\n            list : null\n        };\n    },\n\n    render: function() {\n        if (this.props.list === null) {\n            return null;\n        }\n        var rows = this.props.list.map(function(value, key){\n            return (\n                <EmergencyRow key={key} {...value} reload={this.props.reload}/>\n            );\n        }.bind(this));\n\n        return (\n            <div className=\"emergency\">\n                {rows}\n            </div>\n        );\n    }\n\n});\n\nvar EmergencyRow = React.createClass({\n    getDefaultProps: function() {\n        return {\n            visit : null,\n            reload : null\n        };\n    },\n\n    saveToClipboard: function() {\n        $(this.refs.bannerId).select();\n        document.execCommand('copy');\n    },\n\n    render: function() {\n        var intakeComplete = null;\n\n        return (\n            <div className=\"row\">\n                <div className=\"col-sm-1\">\n                    <i className=\"fa fa-lg fa-exclamation-triangle\"></i>\n                </div>\n                <div className=\"col-sm-2 visitor-name\">\n                    {this.props.visitor.preferred_name} {this.props.visitor.last_name}\n                </div>\n                <div className=\"col-sm-3\">\n                    <input size=\"11\" ref=\"bannerId\" value={this.props.visitor.banner_id} />&nbsp;\n                    <button title=\"Copy to clipboard\" onClick={this.saveToClipboard}><i className=\"glyphicon glyphicon-copy\"></i></button>\n                </div>\n                <div className=\"col-sm-2\">\n                    {this.props.wait_time} min\n                </div>\n                <div className=\"col-sm-3\">\n                    <WaitingListStatus visitor={this.props.visitor} reload={this.props.reload}\n                        visitNumber={this.props.total_visits}/>\n                </div>\n                <div className=\"col-sm-1\">\n                    <WaitingAction visitId={this.props.id} reload={this.props.reload}/>\n                </div>\n            </div>\n        );\n    }\n\n});\n\nvar Waiting = React.createClass({\n    render: function() {\n        if ( this.props.emergency === undefined && this.props.waiting === undefined ) {\n            return <div className=\"text-muted text-center\">\n                <i style={{fontSize : '200px'}} className=\"fa fa-smile-o\"></i>\n                <p style={{fontSize : '100px'}}>All clear!</p>\n            </div>;\n        } else {\n            return (\n                <div>\n                    <Emergency list={this.props.emergency} reload={this.props.reload}/>\n                    <WaitingList list={this.props.waiting} reload={this.props.reload} />\n                </div>\n            );\n        }\n    }\n});\n\nvar WaitingList = React.createClass({\n    getDefaultProps: function() {\n        return {\n            list : null,\n            reload : null\n        };\n    },\n\n    render: function() {\n\n        var listRows = null;\n        if (this.props.list == null) {\n            return <div />;\n        }\n        listRows = this.props.list.map(function(value, key){\n            return (\n                <WaitingListRow {...value} count={key} key={key} reload={this.props.reload}/>\n            );\n        }.bind(this));\n        return (\n            <div className=\"waiting-list\">\n                <table className=\"table table-striped\">\n                    <tbody>\n                        <tr>\n                            <th>#</th>\n                            <th>&nbsp;</th>\n                            <th>Name</th>\n                            <th>Banner id</th>\n                            <th>Wait time</th>\n                            <th>Visits</th>\n                            <th>Status</th>\n                            <th>&nbsp;</th>\n                        </tr>\n                        {listRows}\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n});\n\nvar WaitingListRow = React.createClass({\n\n    getDefaultProps: function() {\n        return {\n            value : {},\n            count : 0,\n            reload : null,\n            visitor : null\n        };\n    },\n\n    saveToClipboard: function() {\n        $(this.refs.bannerId).select();\n        document.execCommand('copy');\n    },\n\n    render: function() {\n        var count = this.props.count + 1;\n        return (\n            <tr>\n                <td style={{width : '3%'}}>{count}</td>\n                <td style={{width : '3%'}} className=\"text-center\"><CategoryIcon category={this.props.category} reasonTitle={this.props.reason_title}/></td>\n                <td><VisitorName visitor={this.props.visitor}/></td>\n                <td><input size=\"11\" ref=\"bannerId\" value={this.props.visitor.banner_id} />&nbsp;\n                    <button title=\"Copy to clipboard\" onClick={this.saveToClipboard}><i className=\"glyphicon glyphicon-copy\"></i></button>\n                </td>\n                <td>{this.props.wait_time} min.</td>\n                <td><WaitingListVisits visitNumber={this.props.total_visits} /></td>\n                <td>\n                    <WaitingListStatus visitor={this.props.visitor} reload={this.props.reload}\n                        visitNumber={this.props.total_visits}/>\n                </td>\n                 <td><WaitingAction visitId={this.props.id} reload={this.props.reload}/></td>\n            </tr>\n        );\n    }\n\n});\n\nvar VisitorName = React.createClass({\n    getInitialState: function() {\n        return {\n            tooltip : true\n        };\n    },\n\n    getDefaultProps: function() {\n        return {\n            visitor : null\n        };\n    },\n\n    componentDidMount : function() {\n        if (this.state.tooltip) {\n            $('span.visitor-name').tooltip({animation:true, placement:'right'});\n            this.setState({tooltip : false});\n        }\n    },\n\n    render: function() {\n        if (this.props.visitor.first_name !== this.props.visitor.preferred_name) {\n            var fullName = this.props.visitor.first_name + ' \"' + this.props.visitor.preferred_name + '\" ' + this.props.visitor.last_name;\n            return (\n                <span className='visitor-name' data-toggle=\"tooltip\" title={fullName}>{this.props.visitor.preferred_name} {this.props.visitor.last_name}</span>\n            );\n        } else {\n            return (\n                <span>{this.props.visitor.preferred_name} {this.props.visitor.last_name}</span>\n            );\n        }\n    }\n\n});\n\nvar CategoryIcon = React.createClass({\n    getInitialState: function() {\n        return {\n            tooltip : true\n        };\n    },\n    getDefaultProps: function() {\n        return {\n            category : 0,\n            reasonTitle : null\n        };\n    },\n\n    componentDidMount : function() {\n        if (this.state.tooltip) {\n            $('i.category').tooltip({animation:true, placement:'right'});\n            this.setState({tooltip : false});\n        }\n    },\n\n    render: function() {\n        var icon = null;\n        var _className = 'category fa fa-lg ' + categoryIcons[this.props.category];\n        icon = <i className={_className} data-toggle=\"tooltip\" title={this.props.reasonTitle}></i>;\n        return (\n            <div>{icon}</div>\n        );\n    }\n\n});\n\nvar WaitingListVisits = React.createClass({\n\n    getDefaultProps: function() {\n        return {\n            visitNumber : '0'\n        };\n    },\n\n    render: function() {\n        switch (this.props.visitNumber) {\n            case '0':\n                return <span></span>;\n\n            case '1':\n                return <span className=\"label label-info\">First visit</span>;\n\n            case '2':\n            case '3':\n                return <span className=\"label label-primary\">{this.props.visitNumber} visits</span>;\n\n            case '4':\n            case '5':\n                return <span className=\"label label-warning\">{this.props.visitNumber} visits</span>;\n\n            default:\n                return <span className=\"label label-danger\">{this.props.visitNumber} visits</span>;\n        }\n\n    }\n\n});\n\nvar WaitingAction = React.createClass({\n\n    getDefaultProps: function() {\n        return {\n            visitId : 0\n        };\n    },\n\n    completeReason : function(reason) {\n        $.post('counseling/Admin/Dashboard/Waiting', {\n        \tcommand : 'setCompleteReason',\n            reason : reason,\n            visitId : this.props.visitId\n        }, null, 'json')\n        \t.done(function(data){\n                this.props.reload();\n        \t}.bind(this));\n    },\n\n    remove : function() {\n        if (confirm('Are you sure you want to remove this visitor?')) {\n            $.post('counseling/Admin/Dashboard/Waiting', {\n            \tcommand : 'delete',\n                visitId : this.props.visitId\n            }, null, 'json')\n            \t.done(function(data){\n                    this.props.reload();\n            \t}.bind(this));\n        }\n    },\n\n    getOptions : function() {\n        var options = [];\n        options.push(\n            {\n                label : <div><i className=\"fa fa-external-link\"></i> Had to leave</div>,\n                visitId : this.props.visitId,\n                handleClick : this.completeReason.bind(null, 2)\n            },\n            {\n                label : <div><i className=\"fa fa-eye-slash\"></i> Missing</div>,\n                visitId : this.props.visitId,\n                handleClick : this.completeReason.bind(null, 3)\n            },\n            {\n                label : <div><i className=\"fa fa-clock-o\"></i> Made appointment</div>,\n                visitId : this.props.visitId,\n                handleClick : this.completeReason.bind(null, 4)\n            },\n            {\n                divider : true\n            },\n            {\n                label : <div className=\"text-danger\"><i className=\"fa fa-trash-o\"></i> Remove</div>,\n                visitId : this.props.visitId,\n                handleClick : this.remove\n            }\n        );\n        return options;\n    },\n\n    render: function() {\n        var options = this.getOptions();\n        return (\n            <ButtonGroup options={options}/>\n        );\n    }\n\n});\n\nvar refreshDashboard = null;\n\nvar Dashboard = React.createClass({\n    getInitialState: function() {\n        return {\n            refresh : true,\n            emergencyList : null,\n            waitingList : null,\n            summary : null,\n            time : null\n        };\n    },\n\n    componentDidMount : function() {\n        this.loadData();\n    },\n\n    refresh : function() {\n        if (this.state.refresh) {\n            refreshDashboard = setInterval(function(){\n                this.loadData();\n            }.bind(this), 30000);\n        }\n    },\n\n    loadData : function() {\n        clearInterval(refreshDashboard);\n        $.getJSON('counseling/Admin/Dashboard/Waiting', {\n        \tcommand : 'list'\n        }).done(function(data){\n            this.setState({\n                emergencyList : data.emergencies,\n                waitingList : data.waiting,\n                summary : data.summary,\n                time : data.time\n            });\n            this.refresh();\n        }.bind(this));\n    },\n\n    render: function() {\n        return (\n            <div className=\"dashboard\">\n                <Summary data={this.state.summary} time={this.state.time} reload={this.loadData}/>\n                <Waiting emergency={this.state.emergencyList} waiting={this.state.waitingList} reload={this.loadData}/>\n            </div>\n        );\n    }\n\n});\n\nReactDOM.render(<Dashboard/>, document.getElementById('dashboard'));\n"]}