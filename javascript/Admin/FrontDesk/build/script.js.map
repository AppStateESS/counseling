{"version":3,"sources":["../tmp/joined.jsx"],"names":[],"mappings":"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","file":"script.js","sourcesContent":["var ButtonGroup = React.createClass({\n    getInitialState: function() {\n        return {};\n    },\n\n    getDefaultProps: function() {\n        return {\n            label: 'Action',\n            options: [\n                {\n                    label: 'Action1',\n                    handleClick: null,\n                    divider: false,\n                },\n            ],\n        };\n    },\n\n    render: function() {\n        var options = this.props.options.map(function(value, key) {\n            return <ButtonGroupOption\n                key={key}\n                label={value.label}\n                handleClick={value.handleClick}\n                divider={value.divider}/>;\n        });\n\n        return (\n            <div className=\"btn-group\">\n                <button\n                    type=\"button\"\n                    className=\"btn btn-default btn-sm dropdown-toggle\"\n                    data-toggle=\"dropdown\"\n                    aria-haspopup=\"true\"\n                    aria-expanded=\"false\">\n                    {this.props.label}\n                    <span className=\"caret\"></span>\n                </button>\n                <ul className=\"dropdown-menu\">\n                    {options}\n                </ul>\n            </div>\n        );\n    },\n});\n\nvar ButtonGroupOption = React.createClass({\n    getDefaultProps: function() {\n        return {label: null, handleClick: null, divider: false,};\n    },\n\n    render: function() {\n        if (this.props.divider) {\n            return (\n                <li role=\"separator\" className=\"divider\"></li>\n            );\n        } else {\n            return (\n                <li onClick={this.props.handleClick}>\n                    <a style={{\n                        cursor: 'pointer'\n                    }}>{this.props.label}</a>\n                </li>\n            );\n        }\n    },\n});\n\nvar WaitingListStatus = React.createClass({\n\n    getDefaultProps: function() {\n        return {visitor: null, visitNumber: 0, reload: null};\n    },\n\n    intakeComplete: function() {\n        if (confirm('Click OK if student completed their intake form.')) {\n            $.post('counseling/Admin/Dashboard/Waiting/', {\n                command: 'intakeComplete',\n                visitorId: this.props.visitor.id,\n            }, null, 'json').done(function(data) {\n                this.props.reload();\n            }.bind(this));\n        }\n\n    },\n\n    render: function() {\n        if (this.props.visitor.intake_complete === '1') {\n            if (this.props.visitNumber > 1) {\n                if (this.props.visitor.seen_last_visit === '0') {\n                    return <span className=\"label label-danger\">Unseen last visit</span>;\n                } else {\n                    return (\n                        <span className=\"label label-primary\">\n                            Previously seen @ {this.props.visitor.previously_seen}\n                        </span>\n                    );\n                }\n            } else {\n                return <span className=\"label label-success\">Intake complete</span>\n            }\n        } else {\n            return <span\n                className=\"label label-danger\"\n                style={{\n                cursor: 'pointer'\n            }}\n                title=\"Click to acknowledge intake completion\"\n                onClick={this.intakeComplete}>Intake incomplete</span>\n        }\n    },\n});\n\nvar ClipboardInput = React.createClass({\n    /*\n    * silences javascript warning on input used for copy and paste\n    */\n    saveToClipboard: function() {\n        $(this.refs.bannerId).select();\n        document.execCommand('copy');\n    },\n\n    nada: function() {},\n\n    render: function() {\n        return (\n            <div>\n                <input\n                    size=\"11\"\n                    ref=\"bannerId\"\n                    value={this.props.bannerId}\n                    onChange={this.nada}/>&nbsp;\n                <button title=\"Copy to clipboard\" onClick={this.saveToClipboard}>\n                    <i className=\"glyphicon glyphicon-copy\"></i>\n                </button>\n            </div>\n        );\n    },\n});\n\nlet isEmpty = function(value) {\n    return (value === undefined || value === null || value.length === 0);\n};\n\nvar Modal = React.createClass({\n    getInitialState: function() {\n        return {header: null, body: null, footer: null};\n    },\n\n    getDefaultProps: function() {\n        return {header: null, body: null, footer: null, modalId: 'reactModal', onClose: null};\n    },\n\n    componentDidMount: function() {\n        if (this.props.onClose) {\n            $('#' + this.props.modalId).on('hidden.bs.modal', function (e) {\n                this.props.onClose();\n            }.bind(this));\n        }\n    },\n\n    render: function() {\n        return (\n            <div id={this.props.modalId} className=\"modal fade\" tabindex=\"-1\" role=\"dialog\">\n                <div className=\"modal-dialog\">\n                    <div className=\"modal-content\">\n                        <div className=\"modal-header\">\n                            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                            <h4 className=\"modal-title\">{this.props.header}</h4>\n                        </div>\n                        <div className=\"modal-body\">\n                            {this.props.body}\n                        </div>\n                        <div className=\"modal-footer\">\n                            {this.props.footer}\n                            <button type=\"button\" className=\"btn btn-default\" data-dismiss=\"modal\">Close</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n});\n\nvar Summary = React.createClass({\n    getInitialState: function() {\n        return {error: null, errorMessage: null};\n    },\n\n    getDefaultProps: function() {\n        return {data: null, time : null};\n    },\n\n    serverError: function() {\n        this.setState({error: true, errorMessage: 'Could not retrieve server data'});\n    },\n\n    render: function() {\n        var currentTally = null;\n        var totalTally = null;\n        if (this.props.data) {\n            currentTally = this.props.data.currentTally;\n            totalTally = this.props.data.completeTally;\n        } else {\n            currentTally = {\n                emergencies: 0,\n                walkin: 0,\n                appointment: 0,\n                other: 0\n            };\n            totalTally = currentTally;\n        }\n        return (\n            <div className=\"summary\">\n                {this.state.error\n                    ? <div className=\"alert alert-danger\">{this.state.errorMessage}</div>\n                    : null}\n                <div className=\"row\">\n                    <div className=\"col-sm-6 left\">\n                        <h3>Current</h3>\n                        <div className=\"row\">\n                            <div className=\"col-sm-4\">\n                                <SummaryTotalWaiting {...this.props.data}/>\n                            </div>\n                            <div className=\"col-sm-4\">\n                                <SummaryEstimatedWait {...this.props.data}/>\n                            </div>\n                            <div className=\"col-sm-4\">\n                                <SummaryWaitingTally {...currentTally}/>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"col-sm-6 right\">\n                        <h4 className=\"pull-right\">{this.props.time}</h4><h3>Today</h3>\n                        <div className=\"row\">\n                            <div className=\"col-sm-2\">\n                                <SummaryTotalSeen {...this.props.data}/>\n                            </div>\n                            <div className=\"col-sm-3\">\n                                <SummaryCompleted {...this.props.data}/>\n                            </div>\n                            <div className=\"col-sm-3\">\n                                <SummaryAverageWait {...this.props.data}/>\n                            </div>\n                            <div className=\"col-sm-4\">\n                                <SummaryWaitingTally {...totalTally} showLabels={true}/>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n});\n\n\nvar SummaryCompleted = React.createClass({\n    getInitialState: function() {\n        return {\n            tooltip : true\n        };\n    },\n\n    getDefaultProps: function() {\n        return {totalComplete: 0, leaveReasons : null};\n    },\n\n    componentDidMount : function() {\n        $(window).load(function(){\n            this.loadTooltip();\n        }.bind(this));\n    },\n\n    loadTooltip : function() {\n        $('.total-complete div.big-number').popover({\n            animation:true,\n            placement:'bottom',\n            trigger:'hover',\n            container :'.summary .right',\n            title : 'Not seen reasons',\n            html : true\n        });\n        $('.total-complete div.big-number').css('cursor', 'pointer');\n        this.setState({tooltip : false});\n    },\n\n    render: function() {\n        var reasons = null;\n        if (this.props.leaveReasons !== null) {\n            reasons = this.props.leaveReasons.join('<br />');\n        }\n        return (\n            <div className=\"total-complete text-center\">\n                <div className=\"big-number\" data-content={reasons}>\n                    {this.props.totalComplete}\n                </div>\n                <div>Total<br />Visits</div>\n            </div>\n        );\n    }\n\n});\n\nvar SummaryTotalWaiting = React.createClass({\n    getDefaultProps: function() {\n        return {totalWaiting: 0};\n    },\n\n    render: function() {\n        return (\n            <div className=\"total-waiting text-center\">\n                <div className=\"big-number\">{this.props.totalWaiting}</div>\n                <div>Waiting</div>\n            </div>\n        );\n    }\n\n});\n\nvar SummaryEstimatedWait = React.createClass({\n    getDefaultProps: function() {\n        return {estimatedWait: 0};\n    },\n\n    render: function() {\n        return (\n            <div className=\"estimated-wait text-center\">\n                <div>\n                    <span className=\"big-number\">{this.props.estimatedWait}</span>\n                    <span>min</span>\n                </div>\n                <div>Est. Wait</div>\n            </div>\n        );\n    }\n\n});\n\nvar SummaryWaitingTally = React.createClass({\n    getDefaultProps: function() {\n        return {emergency: 0, walkin: 0, appointment: 0, other: 0, showLabels : true};\n    },\n\n    render: function() {\n        return (\n            <div>\n                <table className=\"tally\">\n                    <tbody>\n                        <tr>\n                            <td className=\"text-center\">\n                                <i className=\"fa fa-exclamation-triangle\"></i>\n                            </td>\n                            {this.props.showLabels ? <td>Emergency</td> : null}\n                            <td>{this.props.emergency}</td>\n                        </tr>\n                        <tr>\n                            <td className=\"text-center\">\n                                <i className=\"fa fa-male\"></i>\n                            </td>\n                            {this.props.showLabels ? <td>Walk-in</td> : null}\n                            <td>{this.props.walkin}</td>\n                        </tr>\n                        <tr>\n                            <td className=\"text-center\">\n                                <i className=\"fa fa-clock-o\"></i>\n                            </td>\n                            {this.props.showLabels ? <td>Appointment</td> : null}\n                            <td>{this.props.appointment}</td>\n                        </tr>\n                        <tr>\n                            <td className=\"text-center\">\n                                <i className=\"fa fa-question-circle\"></i>\n                            </td>\n                            {this.props.showLabels ? <td>Other</td> : null}\n                            <td>{this.props.other}</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n\n});\n\nvar SummaryTotalSeen = React.createClass({\n\n    getDefaultProps: function() {\n        return {totalSeen: 0};\n    },\n\n    render: function() {\n\n        return (\n            <div className=\"total-seen text-center\">\n                <div className=\"big-number\">{this.props.totalSeen}</div>\n                <div>Seen</div>\n            </div>\n        );\n    }\n\n});\n\nvar SummaryAverageWait = React.createClass({\n    getDefaultProps: function() {\n        return {averageWait: 0};\n    },\n\n    render: function() {\n        return (\n            <div className=\"average-wait text-center\">\n                <div>\n                    <span className=\"big-number\">{this.props.averageWait}</span>\n                    <span>min</span>\n                </div>\n                <div>Avg. Wait</div>\n            </div>\n        );\n    }\n\n});\n\nvar CurrentlySeen = React.createClass({\n    getDefaultProps: function() {\n        return {seen: null, reload: null};\n    },\n\n    getInitialState: function() {\n        return {dispositions: [], seenId: 0};\n    },\n\n    componentDidMount: function() {\n        this.loadDispositions();\n    },\n\n    loadDispositions: function() {\n        $.getJSON('counseling/Admin/Clinician', {command: 'dispositionList'}).done(function(data) {\n            this.setState({dispositions: data});\n        }.bind(this));\n    },\n\n    moveBack: function(id) {\n        $.post('./counseling/Admin/Dashboard/Waiting', {\n            visitId: id,\n            command: 'reset',\n        }).done(function(data) {\n            this.props.reload();\n        }.bind(this), 'json');\n    },\n\n    complete: function(id) {\n        this.setState({seenId: id});\n        $('#reactModal').modal('show');\n    },\n\n    handleClick: function(dispositionId) {\n        $.post('counseling/Admin/Clinician', {\n            command: 'assignDisposition',\n            dispositionId: dispositionId,\n            visitId: this.state.seenId\n        }, null, 'json').done(function(data) {\n            this.closeModal();\n        }.bind(this));\n    },\n\n    getModal: function() {\n        let dispositions = null;\n        let buttonClass = null;\n        let iconClass = null;\n\n        dispositions = this.state.dispositions.map(function(value, key) {\n            buttonClass = 'btn btn-lg btn-block btn-' + value.color;\n            iconClass = 'fa fa-' + value.icon;\n            return (\n                <button\n                    key={key}\n                    className={buttonClass}\n                    onClick={this.handleClick.bind(null, value.id)}>\n                    <i className={iconClass}></i>\n                    {value.title}</button>\n            );\n        }.bind(this));\n        let modalBody = (\n            <div>\n                {dispositions}\n            </div>\n        );\n        return (<Modal body={modalBody} header='Assign disposition' onClose={this.closeModal}/>);\n    },\n\n    closeModal: function() {\n        this.setState({seenId:0});\n        this.props.reload();\n        $('#reactModal').modal('hide');\n    },\n\n    render: function() {\n        if (!this.props.seen) {\n            return <div className=\"alert alert-info\">No one is being seen</div>;\n        }\n        let modal = this.getModal();\n        let seen = this.props.seen.map(function(value, key) {\n            return (\n                <span\n                    key={value.visitor.id}\n                    className=\"dropdown\"\n                    style={{\n                    marginRight: '1em'\n                }}>\n                    <button className=\"btn btn-default\" data-toggle=\"dropdown\">{value.visitor.last_name}&nbsp;w/&nbsp; {value.clinician}&nbsp;<span className=\"caret\"></span>\n                    </button>\n                    <ul className=\"dropdown-menu\">\n                        <li>\n                            <a\n                                style={{\n                                cursor: 'pointer'\n                            }}\n                                onClick={this.moveBack.bind(this, value.id)}>\n                                <i className=\"fa fa-reply\"></i>&nbsp;Move&nbsp;{value.visitor.preferred_name}&nbsp; {value.visitor.last_name}&nbsp;back to queue</a>\n                        </li>\n                        <li>\n                            <a\n                                style={{\n                                cursor: 'pointer'\n                            }}\n                                onClick={this.complete.bind(this, value.id)}>\n                                <i className=\"fa fa-flag-checkered\"></i>&nbsp;Complete {value.visitor.preferred_name}&nbsp;{value.visitor.last_name}'s consultation</a>\n                        </li>\n                    </ul>\n                </span>\n            );\n        }.bind(this));\n        return (\n            <div>\n                {modal}\n                <div className=\"alert alert-info\">\n                    <strong>Currently seen:&nbsp;\n                    </strong>\n                    {seen}\n                </div>\n            </div>\n        );\n    }\n});\n\nvar Appointment = React.createClass({\n    getDefaultProps: function() {\n        return {appointments: null, reload: null,};\n    },\n\n    render: function() {\n        if (this.props.appointments === null) {\n            return <div>No appointments waiting</div>;\n        }\n        let count = 0;\n\n        let listRows = this.props.appointments.map(function(value, key) {\n            count++;\n            return <AppointmentRow key={key} {...value} count={count} reload={this.props.reload}/>;\n        }.bind(this));\n\n        return (\n            <div className=\"appointment-list\">\n                <table className=\"table\">\n                    <tbody>\n                        <tr>\n                            <th>#</th>\n                            <th>&nbsp;</th>\n                            <th>Name</th>\n                            <th>Banner id</th>\n                            <th>Visits</th>\n                            <th>Status</th>\n                            <th>&nbsp;</th>\n                        </tr>\n                        {listRows}\n                    </tbody>\n                </table>\n            </div>\n        );\n    },\n});\n\nvar AppointmentRow = React.createClass({\n    getDefaultProps: function() {\n        return {\n            id: 0,\n            category: 0,\n            color: 'default',\n            reason_title: '',\n            total_visits: 0,\n            visitor: {},\n            visitor_id: 0,\n            reload: null\n        };\n    },\n\n    render: function() {\n        let count = this.props.count;\n        let _className = 'bg-' + this.props.color;\n        return (\n            <tr className={_className}>\n                <td style={{\n                    width: '3%'\n                }}>{count}</td>\n                <td\n                    style={{\n                    width: '3%'\n                }}\n                    className=\"text-center\">\n                    <CategoryIcon\n                        category={this.props.category}\n                        reasonTitle={this.props.reason_title}/></td>\n                <td><VisitorName visitor={this.props.visitor}/></td>\n                <td>\n                    <ClipboardInput bannerId={this.props.visitor.banner_id}/>\n                </td>\n                <td><WaitingListVisits visitNumber={this.props.total_visits}/></td>\n                <td>\n                    <WaitingListStatus\n                        visitor={this.props.visitor}\n                        reload={this.props.reload}\n                        visitNumber={this.props.total_visits}/>\n                </td>\n                <td><AppointmentAction visitId={this.props.id} reload={this.props.reload}/></td>\n            </tr>\n        );\n    },\n});\n\nvar AppointmentAction = React.createClass({\n\n    getDefaultProps: function() {\n        return {visitId: 0};\n    },\n\n    completeReason: function(reason) {\n        $.post('counseling/Admin/Dashboard/Waiting', {\n            command: 'setCompleteReason',\n            reason: reason,\n            visitId: this.props.visitId\n        }, null, 'json').done(function(data) {\n            this.props.reload();\n        }.bind(this));\n    },\n\n    remove: function() {\n        if (confirm('Are you sure you want to remove this visitor?')) {\n            $.post('counseling/Admin/Dashboard/Waiting', {\n                command: 'delete',\n                visitId: this.props.visitId\n            }, null, 'json').done(function(data) {\n                this.props.reload();\n            }.bind(this));\n        }\n    },\n\n    getOptions: function() {\n        var options = [];\n        options.push({\n            label: <div className=\"text-success\">\n                <strong>\n                    <i className=\"fa fa-thumbs-o-up\"></i>&nbsp; Send back</strong>\n            </div>,\n            visitId: this.props.visitId,\n            handleClick: this.completeReason.bind(null, 5)\n        }, {\n            divider: true\n        }, {\n            label: <div>\n                <i className=\"fa fa-external-link\"></i>&nbsp; Had to leave</div>,\n            visitId: this.props.visitId,\n            handleClick: this.completeReason.bind(null, 2)\n        }, {\n            label: <div>\n                <i className=\"fa fa-eye-slash\"></i>&nbsp; Missing</div>,\n            visitId: this.props.visitId,\n            handleClick: this.completeReason.bind(null, 3)\n        }, {\n            divider: true\n        }, {\n            label: <div className=\"text-danger\">\n                <i className=\"fa fa-trash-o\"></i>&nbsp; Remove</div>,\n            visitId: this.props.visitId,\n            handleClick: this.remove\n        });\n        return options;\n    },\n\n    render: function() {\n        var options = this.getOptions();\n        return (<ButtonGroup options={options}/>);\n    }\n});\n\nvar Emergency = React.createClass({\n    mixins : ['ButtonGroup'],\n\n    getInitialState: function() {\n        return {\n        };\n    },\n\n    getDefaultProps: function() {\n        return {\n            list : null\n        };\n    },\n\n    render: function() {\n        if (this.props.list === null) {\n            return null;\n        }\n        var rows = this.props.list.map(function(value, key){\n            return (\n                <EmergencyRow key={key} {...value} reload={this.props.reload}/>\n            );\n        }.bind(this));\n\n        return (\n            <div className=\"emergency\">\n                {rows}\n            </div>\n        );\n    }\n\n});\n\nvar EmergencyRow = React.createClass({\n    getDefaultProps: function() {\n        return {\n            visit : null,\n            reload : null\n        };\n    },\n\n    render: function() {\n        var intakeComplete = null;\n\n        return (\n            <div className=\"row\">\n                <div className=\"col-sm-1\">\n                    <i className=\"fa fa-lg fa-exclamation-triangle\"></i>\n                </div>\n                <div className=\"col-sm-2 visitor-name\">\n                    <VisitorName visitor={this.props.visitor}/>\n                </div>\n                <div className=\"col-sm-3\">\n                    <ClipboardInput bannerId={this.props.visitor.banner_id}/>\n                </div>\n                <div className=\"col-sm-2\">\n                    {this.props.wait_time} min.\n                </div>\n                <div className=\"col-sm-3\">\n                    <WaitingListStatus visitor={this.props.visitor} reload={this.props.reload}\n                        visitNumber={this.props.total_visits}/>\n                </div>\n                <div className=\"col-sm-1\">\n                    <WaitingAction visitId={this.props.id} reload={this.props.reload}/>\n                </div>\n            </div>\n        );\n    }\n\n});\n\nvar Waiting = React.createClass({\n    render: function() {\n        let waitingList = <div>No walk-ins waiting</div>;\n        if (!isEmpty(this.props.waiting)) {\n            waitingList = (\n                <div>\n                    <h3>Walk-ins</h3>\n                    <WaitingList list={this.props.waiting} reload={this.props.reload}/>\n                </div>\n            );\n        }\n        return (\n            <div>\n                <Emergency list={this.props.emergency} reload={this.props.reload}/>\n                {waitingList}\n            </div>\n        );\n    }\n});\n\nvar WaitingList = React.createClass({\n    getDefaultProps: function() {\n        return {list: null, reload: null};\n    },\n\n    render: function() {\n\n        var listRows = null;\n        if (this.props.list == null) {\n            return <div/>;\n        }\n        listRows = this.props.list.map(function(value, key) {\n            return (<WaitingListRow {...value} count={key} key={key} reload={this.props.reload}/>);\n        }.bind(this));\n        return (\n            <div className=\"waiting-list\">\n                <table className=\"table\">\n                    <tbody>\n                        <tr>\n                            <th>#</th>\n                            <th>&nbsp;</th>\n                            <th>Name</th>\n                            <th>Banner id</th>\n                            <th>Wait time</th>\n                            <th>Visits</th>\n                            <th>Status</th>\n                            <th>&nbsp;</th>\n                        </tr>\n                        {listRows}\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n});\n\nvar WaitingListRow = React.createClass({\n    getDefaultProps: function() {\n        return {value: {}, count: 0, reload: null, visitor: null};\n    },\n\n    render: function() {\n        let count = this.props.count + 1;\n        let _className = 'bg-' + this.props.color;\n        return (\n            <tr className={_className}>\n                <td style={{\n                    width: '3%'\n                }}>{count}</td>\n                <td\n                    style={{\n                        width: '3%'\n                    }}\n                    className=\"text-center\">\n                    <CategoryIcon\n                        category={this.props.category}\n                        reasonTitle={this.props.reason_title}/></td>\n                <td><VisitorName visitor={this.props.visitor}/></td>\n                <td>\n                    <ClipboardInput bannerId={this.props.visitor.banner_id}/>\n                </td>\n                <td>{this.props.wait_time}\n                min.</td>\n                <td><WaitingListVisits visitNumber={this.props.total_visits}/></td>\n                <td>\n                    <WaitingListStatus\n                        visitor={this.props.visitor}\n                        reload={this.props.reload}\n                        visitNumber={this.props.total_visits}/>\n                </td>\n                <td><WaitingAction visitId={this.props.id} reload={this.props.reload}/></td>\n            </tr>\n        );\n    }\n});\n\nvar VisitorName = React.createClass({\n    getInitialState: function() {\n        return {tooltip: true};\n    },\n\n    getDefaultProps: function() {\n        return {visitor: null};\n    },\n\n    componentDidMount: function() {\n        if (this.state.tooltip) {\n            $('span.visitor-name').tooltip({animation: true, placement: 'right'});\n            this.setState({tooltip: false});\n        }\n    },\n\n    render: function() {\n        if (this.props.visitor.preferred_name) {\n            var fullName = this.props.visitor.first_name + ' \"' + this.props.visitor.preferred_name + '\" ' + this.props.visitor.last_name;\n            return (\n                <span className='visitor-name' data-toggle=\"tooltip\" title={fullName}>{this.props.visitor.preferred_name} {this.props.visitor.last_name}</span>\n            );\n        } else {\n            return (\n                <span>{this.props.visitor.first_name} {this.props.visitor.last_name}</span>\n            );\n        }\n    }\n});\n\nvar CategoryIcon = React.createClass({\n    getInitialState: function() {\n        return {tooltip: true};\n    },\n    getDefaultProps: function() {\n        return {category: 0, reasonTitle: null};\n    },\n\n    componentDidMount: function() {\n        if (this.state.tooltip) {\n            $('i.category').tooltip({animation: true, placement: 'right'});\n            this.setState({tooltip: false});\n        }\n    },\n\n    render: function() {\n        var icon = null;\n        var _className = 'category fa fa-lg ' + categoryIcons[this.props.category];\n        icon = <i className={_className} data-toggle=\"tooltip\" title={this.props.reasonTitle}></i>;\n        return (\n            <div>{icon}</div>\n        );\n    }\n});\n\nvar WaitingListVisits = React.createClass({\n\n    getDefaultProps: function() {\n        return {visitNumber: '0'};\n    },\n\n    render: function() {\n        switch (this.props.visitNumber) {\n            case '0':\n                return <span></span>;\n\n            case '1':\n                return <span className=\"label label-info\">First visit</span>;\n\n            case '2':\n            case '3':\n                return <span className=\"label label-primary\">{this.props.visitNumber}\n                    visits</span>;\n\n            case '4':\n            case '5':\n                return <span className=\"label label-warning\">{this.props.visitNumber}\n                    visits</span>;\n\n            default:\n                return <span className=\"label label-danger\">{this.props.visitNumber}\n                    visits</span>;\n        }\n\n    }\n});\n\nvar WaitingAction = React.createClass({\n\n    getDefaultProps: function() {\n        return {visitId: 0};\n    },\n\n    completeReason: function(reason) {\n        $.post('counseling/Admin/Dashboard/Waiting', {\n            command: 'setCompleteReason',\n            reason: reason,\n            visitId: this.props.visitId\n        }, null, 'json').done(function(data) {\n            this.props.reload();\n        }.bind(this));\n    },\n\n    remove: function() {\n        if (confirm('Are you sure you want to remove this visitor?')) {\n            $.post('counseling/Admin/Dashboard/Waiting', {\n                command: 'delete',\n                visitId: this.props.visitId\n            }, null, 'json').done(function(data) {\n                this.props.reload();\n            }.bind(this));\n        }\n    },\n\n    getOptions: function() {\n        var options = [];\n        options.push({\n            label: <div>\n                <i className=\"fa fa-external-link\"></i>&nbsp; Had to leave</div>,\n            visitId: this.props.visitId,\n            handleClick: this.completeReason.bind(null, 2)\n        }, {\n            label: <div>\n                <i className=\"fa fa-eye-slash\"></i>&nbsp; Missing</div>,\n            visitId: this.props.visitId,\n            handleClick: this.completeReason.bind(null, 3)\n        }, {\n            label: <div>\n                <i className=\"fa fa-clock-o\"></i>&nbsp; Made appointment</div>,\n            visitId: this.props.visitId,\n            handleClick: this.completeReason.bind(null, 4)\n        }, {\n            divider: true\n        }, {\n            label: <div className=\"text-danger\">\n                <i className=\"fa fa-trash-o\"></i>&nbsp; Remove</div>,\n            visitId: this.props.visitId,\n            handleClick: this.remove\n        });\n        return options;\n    },\n\n    render: function() {\n        var options = this.getOptions();\n        return (<ButtonGroup options={options}/>);\n    }\n});\n\nvar refreshDashboard = null;\n\nvar Dashboard = React.createClass({\n    getInitialState: function() {\n        return {\n            refresh : true,\n            emergencyList : null,\n            waitingList : null,\n            appointmentList: null,\n            summary : null,\n            currentlySeen: null,\n            time : null\n        };\n    },\n\n    componentDidMount : function() {\n        this.loadData();\n    },\n\n    refresh : function() {\n        if (this.state.refresh) {\n            refreshDashboard = setInterval(function(){\n                this.loadData();\n            }.bind(this), 30000);\n        }\n    },\n\n    loadData : function() {\n        clearInterval(refreshDashboard);\n        $.getJSON('counseling/Admin/Dashboard/Waiting', {\n        \tcommand : 'list'\n        }).done(function(data){\n            this.setState({\n                emergencyList : data.emergencies,\n                waitingList : data.waiting,\n                appointmentList : data.appointment,\n                summary : data.summary,\n                currentlySeen: data.currentlySeen,\n                time : data.time\n            });\n            this.refresh();\n        }.bind(this));\n    },\n\n    render: function() {\n        let visitors = null;\n        if ( this.state.emergencyList === null && this.state.waitingList === null\n            && this.appointmentList === null) {\n            visitors = <div className=\"text-success text-center\">\n                <i style={{fontSize : '200px'}} className=\"fa fa-smile-o\"></i>\n                <p style={{fontSize : '100px'}}>All clear!</p>\n            </div>;\n        } else {\n            visitors = (\n                <div>\n                    <Waiting emergency={this.state.emergencyList} waiting={this.state.waitingList}\n                    reload={this.loadData}/>\n                    <h3>Appointments</h3>\n                    <Appointment appointments={this.state.appointmentList} reload={this.loadData}/>\n                </div>\n            );\n        }\n        return (\n            <div className=\"dashboard\">\n                <Summary data={this.state.summary} time={this.state.time}\n                    reload={this.loadData}/>\n                <CurrentlySeen seen={this.state.currentlySeen} reload={this.loadData}/>\n                {visitors}\n            </div>\n        );\n    }\n\n});\n\nReactDOM.render(<Dashboard/>, document.getElementById('dashboard'));\n"]}