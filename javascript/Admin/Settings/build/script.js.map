{"version":3,"sources":["../tmp/joined.jsx"],"names":[],"mappings":"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","file":"script.js","sourcesContent":["var TextInput = React.createClass({\n    getDefaultProps: function() {\n        return {\n            label: '',\n            placeholder: '',\n            handleBlur: null,\n            required: false,\n            handlePress: null,\n            handleChange: null,\n            inputId: null,\n            value: '',\n            tabIndex: null\n        };\n    },\n\n    handleBlur: function(e) {\n        if (this.props.required && e.target.value.length < 1) {\n            $(e.target).css('border-color', 'red');\n        }\n        if (this.props.handleBlur) {\n            this.props.handleBlur(e);\n        }\n    },\n\n    handleFocus: function(e) {\n        $(e.target).css('border-color', '');\n    },\n\n    render: function() {\n        var label = '';\n        var required = '';\n        if (this.props.label.length > 0) {\n            if (this.props.required) {\n                required = <i className=\"fa fa-asterisk text-danger\"></i>;\n            }\n            label = <label htmlFor={this.props.inputId}>{this.props.label}</label>;\n        } else {\n            label = null;\n        }\n        return (\n            <div className=\"form-group\">\n                {label}\n                {required}\n                <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id={this.props.inputId}\n                    name={this.props.inputId}\n                    placeholder={this.props.placeholder}\n                    onFocus={this.handleFocus}\n                    onChange={this.props.handleChange}\n                    onBlur={this.handleBlur}\n                    onKeyPress={this.props.handlePress}\n                    value={this.props.value}\n                    tabIndex={this.props.tabIndex}/>\n            </div>\n        );\n    },\n});\n\nvar FormMixin = {\n    componentDidMount: function() {\n        this.loadData();\n    },\n\n    closeForm: function() {\n        this.setState({showForm: false});\n    },\n\n    showForm: function() {\n        this.setState({showForm: true});\n    },\n\n    saveFailure: function() {\n        this.setState({saveFail: true});\n    }\n};\n\nvar sortable = {\n    fixHelper: function(e, ui) {\n        ui.children().each(function() {\n            $(this).width($(this).width());\n        });\n        return ui;\n    },\n\n    loadSortable: function() {\n        $(this.refs.sortRows).sortable({\n            handle: '.handle',\n            helper: this.fixHelper,\n            cancel: '',\n            update: this.updateSort,\n            axis: 'y',\n            containment: '#sortBox',\n        }).disableSelection();\n    },\n\n    resortReact: function(rows, movedId, prevRowId, nextRowId) {\n        var RPrev = null;\n        var RMoved = null;\n        var RNext = null;\n        var newRows = [];\n        var count = 0;\n        var valId = 0;\n\n        rows.forEach(function(value, index) {\n\n            valId = parseInt(value.id, 10);\n\n            if (prevRowId !== undefined && valId === prevRowId) {\n                RPrev = value;\n            } else if (valId === movedId) {\n                RMoved = value;\n            } else if (nextRowId !== undefined && valId === nextRowId) {\n                RNext = value;\n            }\n        });\n\n        if (RPrev === null) {\n            RMoved.sorting = 1;\n            count++;\n            newRows.push(RMoved);\n        }\n\n        rows.forEach(function(value, index) {\n            if (RMoved.id !== value.id) {\n                count++;\n                value.sorting = count;\n                newRows.push(value);\n            }\n            if (RPrev !== null && RPrev.id === value.id) {\n                count++;\n                RMoved.sorting = count;\n                newRows.push(RMoved);\n            }\n        });\n        return newRows;\n    },\n};\n\nvar colorPicker = {\n    pickColor: function(color, event) {\n        event.preventDefault();\n        this.setState({color: color});\n    }\n};\n\nvar PickColor = React.createClass({\n    getDefaultProps: function() {\n        return {handleClick: null};\n    },\n\n    render: function() {\n        return (\n            <div>\n                <button\n                    className=\"btn btn-default\"\n                    onClick={this.props.handleClick.bind(null, 'default')}>&nbsp;</button>&nbsp;\n                <button\n                    className=\"btn btn-primary\"\n                    onClick={this.props.handleClick.bind(null, 'primary')}>&nbsp;</button>&nbsp;\n                <button\n                    className=\"btn btn-success\"\n                    onClick={this.props.handleClick.bind(null, 'success')}>&nbsp;</button>&nbsp;\n                <button\n                    className=\"btn btn-info\"\n                    onClick={this.props.handleClick.bind(null, 'info')}>&nbsp;</button>&nbsp;\n                <button\n                    className=\"btn btn-warning\"\n                    onClick={this.props.handleClick.bind(null, 'warning')}>&nbsp;</button>&nbsp;\n                <button\n                    className=\"btn btn-danger\"\n                    onClick={this.props.handleClick.bind(null, 'danger')}>&nbsp;</button>\n            </div>\n        );\n    },\n});\n\nvar Reasons = React.createClass({\n    mixins: [FormMixin],\n\n    getInitialState: function() {\n        return {showForm: false, reasons: null, saveFail: false, currentEdit: null,};\n    },\n\n    loadData: function() {\n        $.getJSON('counseling/Admin/Settings/Reason', {command: 'list'}).done(function(data) {\n            this.setState({reasons: data});\n        }.bind(this));\n    },\n\n    setCurrentEdit: function(reasonId, section) {\n        var currentEdit = null;\n        if (reasonId !== null) {\n            currentEdit = {\n                id: reasonId,\n                section: section,\n            };\n        }\n        this.setState({currentEdit: currentEdit});\n    },\n\n    render: function() {\n        var form = null;\n        var button = null;\n        var alert = null;\n        var reasons = null;\n\n        if (this.state.showForm) {\n            form = <ReasonForm\n                closeForm={this.closeForm}\n                reload={this.loadData}\n                fail={this.saveFailure}/>;\n        } else {\n            button = <button\n                className=\"btn btn-success\"\n                onClick={this.showForm}\n                style={{\n                marginBottom: '1em'\n            }}>Add reason\n                <i className=\"fa fa-caret-down\"></i>\n            </button>;\n        }\n        if (this.state.saveFail) {\n            alert = <div className=\"alert alert-danger\">\n                <strong>\n                    <i className=\"fa fa-exclamation-triangle\"></i>\n                    Error:</strong>\n                Reason save failed</div>;\n        }\n\n        return (\n            <div>\n                <div className=\"settings-form-area\">\n                    <div\n                        style={{\n                        position: 'relative'\n                    }}>\n                        {form}\n                    </div>\n                    {button}\n                </div>\n                {alert}\n                <div className=\"settings-listing\">\n                    <ReasonList\n                        reasons={this.state.reasons}\n                        reload={this.loadData}\n                        currentEdit={this.state.currentEdit}\n                        setCurrentEdit={this.setCurrentEdit}/>\n                </div>\n            </div>\n        );\n    },\n});\n\nvar ReasonList = React.createClass({\n    getDefaultProps: function() {\n        return {\n            reasons: null,\n            reload: null,\n            currentEdit: 0,\n            setCurrentEdit: null,\n        };\n    },\n\n    render: function() {\n        var reasons = null;\n        if (this.props.reasons) {\n            reasons = this.props.reasons.map(function(value, key) {\n                return (\n                    <ReasonRow key={key} {...value} reload={this.props.reload}\n                        currentEdit={this.props.currentEdit}\n                        setCurrentEdit={this.props.setCurrentEdit}/>\n                );\n            }.bind(this));\n        }\n        return (\n            <div>{reasons}</div>\n        );\n    },\n});\n\nvar ReasonRow = React.createClass({\n    getInitialState: function() {\n        return {\n            id: 0,\n            title: '',\n            description: '',\n            instruction: '',\n            show_emergency: true,\n            category: 0,\n            wait_listed: false,\n            ask_for_phone: false,\n            active: true,\n            sorting: 0,\n            color: 'default',\n        };\n    },\n\n    getDefaultProps: function() {\n        return {\n            id: 0,\n            title: '',\n            description: '',\n            instruction: '',\n            show_emergency: true,\n            category: 0,\n            wait_listed: false,\n            ask_for_phone: false,\n            active: true,\n            sorting: 0,\n            color: 'default',\n            reload:null,\n        };\n    },\n\n    componentDidMount: function() {\n        this.setState(this.props);\n    },\n\n    flipEmergency: function() {\n        $.post('counseling/Admin/Settings/Reason', {\n            command: 'flipEmergency',\n            reasonId: this.state.id,\n        }, null, 'json').done(function(data) {\n            let switcher = this.state.show_emergency == '1' ? '0' : '1';\n            this.setState({show_emergency: switcher});\n        }.bind(this));\n    },\n\n    flipWaitListed: function() {\n        $.post('counseling/Admin/Settings/Reason', {\n            command: 'flipWaitListed',\n            reasonId: this.state.id,\n        }, null, 'json').done(function(data) {\n            let switcher = this.state.wait_listed == '1' ? '0' : '1';\n            this.setState({wait_listed: switcher});\n        }.bind(this));\n    },\n\n    flipAskForPhone: function() {\n        $.post('counseling/Admin/Settings/Reason', {\n            command: 'flipAskForPhone',\n            reasonId: this.state.id,\n        }, null, 'json').done(function(data) {\n            let switcher = this.state.ask_for_phone == '1' ? '0' : '1';\n            this.setState({ask_for_phone: switcher});\n        }.bind(this));\n    },\n\n    pickColor: function(value) {\n        this.setState({color:value});\n        $.post('counseling/Admin/Settings/Reason', {\n            command: 'pickColor',\n            reasonId: this.state.id,\n            color: value\n        }, null, 'json').done(function(data) {\n            this.props.reload();\n        }.bind(this));\n    },\n\n    deleteReason: function(reason) {\n        $.post('counseling/Admin/Settings/Reason', {\n            command: 'delete',\n            reasonId: this.state.id,\n        }, null, 'json').done(function(data) {\n            this.props.reload();\n        }.bind(this));\n    },\n\n    updateTitle: function(event) {\n        this.setState({title:event.target.value});\n    },\n\n    updateDescription: function(event) {\n        this.setState({description:event.target.value});\n    },\n\n    updateInstruction: function(event) {\n        this.setState({instruction:event.target.value});\n    },\n\n    updateCategory: function(event) {\n        this.setState({category:event.target.value});\n    },\n\n    resetTitle: function() {\n        this.setState({title:this.props.title});\n    },\n\n    resetDescription: function() {\n        this.setState({description:this.props.description});\n    },\n\n    resetInstruction: function() {\n        this.setState({instruction:this.props.instruction});\n    },\n\n    resetCategory: function() {\n        this.setState({category:this.props.category});\n    },\n\n    saveTitle: function()\n    {\n        if (this.state.title === null || this.state.title.length === 0) {\n            return;\n        }\n        $.post('counseling/Admin/Settings/Reason', {\n            command: 'setTitle',\n            reasonId: this.state.id,\n            title: this.state.title,\n        }, null, 'json').done(function(data) {\n            this.props.reload();\n        }.bind(this));\n    },\n\n    saveDescription: function()\n    {\n        if (this.state.description === null || this.state.description.length === 0) {\n            return;\n        }\n        $.post('counseling/Admin/Settings/Reason', {\n            command: 'setDescription',\n            reasonId: this.state.id,\n            description: this.state.description,\n        }, null, 'json').done(function(data) {\n            this.props.reload();\n        }.bind(this));\n    },\n\n    saveInstruction: function() {\n        if (this.state.instruction === null || this.state.instruction.length === 0) {\n            return;\n        }\n        $.post('counseling/Admin/Settings/Reason', {\n            command: 'setInstruction',\n            reasonId: this.state.id,\n            instruction: this.state.instruction,\n        }, null, 'json').done(function(data) {\n            this.props.reload();\n        }.bind(this));\n    },\n\n    saveCategory: function() {\n        if (this.state.category === null || this.state.category.length === 0) {\n            return;\n        }\n        $.post('counseling/Admin/Settings/Reason', {\n            command: 'setCategory',\n            reasonId: this.state.id,\n            category: this.state.category,\n        }, null, 'json').done(function(data) {\n            this.props.reload();\n        }.bind(this));\n    },\n\n    render: function() {\n        let deleteButton = null;\n        if (settingsAllowed) {\n            deleteButton = <button\n                className=\"pull-right btn btn-danger btn-sm\"\n                onClick={this.deleteReason}>\n                <i className=\"fa fa-exclamation-triangle\"></i>\n                Delete</button>;\n        }\n\n        let emergency = <FlipOption\n            handleClick={this.flipEmergency}\n            active={this.state.show_emergency == '1'}\n            title=\"Reason ask visitor if they have an emergency\"\n            label=\"Ask emergency\"\n            icon=\"fa-exclamation-triangle\"/>;\n\n        let wait = <FlipOption\n            handleClick={this.flipWaitListed}\n            active={this.state.wait_listed == '1'}\n            title=\"Choosing this reason puts visitor in the wait queue\"\n            label=\"Wait list\"\n            icon=\"fa-hourglass-start\"/>;\n\n        let phone = <FlipOption\n            handleClick={this.flipAskForPhone}\n            active={this.state.ask_for_phone == '1'}\n            title=\"Choosing this asks for the visitor's phone number\"\n            label=\"Phone number\"\n            icon=\"fa-phone\"/>;\n\n        let panelClass = 'panel panel-' + this.state.color;\n        let props = {\n            reasonId: this.state.id,\n            reload: this.props.reload,\n            currentEdit: this.props.currentEdit,\n            setCurrentEdit: this.props.setCurrentEdit,\n        };\n\n        return (\n            <div className={panelClass}>\n                <div className=\"panel-heading\">\n                    <span className=\"badge\">{this.state.ordering}</span>\n                    {deleteButton}\n                    <div className=\"clearfix\"></div>\n                </div>\n                <div className=\"panel-body\">\n                    <div className=\"row\">\n                        <div className=\"col-sm-6\">\n                            <div className=\"section\">\n                                <strong>Title:</strong>\n                                <ReasonTitle value={this.state.title} reset={this.resetTitle}\n                                update={this.updateTitle} save={this.saveTitle} {...props}/>\n                            </div>\n                        </div>\n                        <div className=\"col-sm-6\">\n                            <div className=\"section\">\n                                <strong>Description:</strong>\n                                <ReasonDescription value={this.state.description}\n                                    reset={this.resetDescription} update={this.updateDescription}\n                                    save={this.saveDescription} {...props}/>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-sm-6\">\n                            <div className=\"section\">\n                                <strong>Instruction:</strong>\n                                <ReasonInstruction value={this.state.instruction}\n                                    reset={this.resetInstruction} update={this.updateInstruction}\n                                    save={this.saveInstruction} {...props}/>\n                            </div>\n                        </div>\n                        <div className=\"col-sm-6\">\n                            <div className=\"section\">\n                                <strong>Category:</strong>\n                                <ReasonCategory value={this.state.category} reset={this.resetCategory}\n                                update={this.updateCategory} save={this.saveCategory} {...props}/>\n                            </div>\n                        </div>\n                    </div>\n                    <hr/>\n                    <div className=\"row\">\n                        <div className=\"col-sm-12\">\n                            <span>\n                                <strong>Reason highlight</strong>\n                            </span>\n                            <PickColor handleClick={this.pickColor}/>\n                        </div>\n                    </div>\n                    <hr/>\n                    <div className=\"row\">\n                        <div className=\"col-sm-4 text-center\">\n                            {wait}\n                        </div>\n                        <div className=\"col-sm-4 text-center\">\n                            {emergency}\n                        </div>\n                        <div className=\"col-sm-4 text-center\">\n                            {phone}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    },\n});\n\nvar ReasonTitle = React.createClass({\n\n    getDefaultProps: function() {\n        return {\n            value: '',\n            reasonId: 0,\n            reload: null,\n            currentEdit: null,\n            setCurrentEdit: null,\n            update: null,\n            save: null,\n            reset:null,\n        };\n    },\n\n    render: function() {\n        return (\n            <ReasonValue {...this.props}\n            placeholder=\"One or two words describing reason. Internal use only.\"\n            section=\"1\"/>\n        );\n    },\n});\n\nvar ReasonCategory = React.createClass({\n    getInitialState: function() {\n        return {editMode: false};\n    },\n\n    getDefaultProps: function() {\n        return {\n            value: '1',\n            editMode: false,\n            reasonId: 0,\n            reset: null,\n            update: null,\n            save: null,\n            reload: null,\n            currentEdit: null,\n            setCurrentEdit: null,\n        };\n    },\n\n    componentDidMount: function() {\n        this.setState({editMode: this.props.editMode});\n    },\n\n    componentDidUpdate: function()\n    {\n        $('.editItem').focus();\n    },\n\n    formMode: function() {\n        this.props.setCurrentEdit(this.props.reasonId, 4);\n        this.setState({editMode: true});\n    },\n\n    closeForm: function() {\n        this.setState({editMode: false,});\n        this.props.reset();\n    },\n\n    save: function() {\n        this.setState({editMode: false});\n        this.props.save();\n    },\n\n    render: function() {\n        var value = null;\n        var matchOption = null;\n\n        switch (this.props.value) {\n            case '0':\n                matchOption = 'Other';\n                break;\n\n            case '1':\n                matchOption = 'Walk-in';\n                break;\n\n            case '2':\n                matchOption = 'Appointment';\n                break;\n        }\n\n        var selectOptions = [\n            {\n                value: '0',\n                label: 'Other',\n            }, {\n                value: '1',\n                label: 'Walk-in',\n            }, {\n                value: '2',\n                label: 'Appointment',\n            },\n        ];\n\n        if (this.state.editMode && this.props.currentEdit.id == this.props.reasonId\n                && this.props.currentEdit.section == '4') {\n            value = (\n                <div className=\"row\">\n                    <div className=\"col-sm-8\">\n                        <ReasonSelect\n                            options={selectOptions}\n                            match={this.props.value}\n                            handleChange={this.props.update}/>\n                    </div>\n                    <div className=\"col-sm-4\">\n                        <button className=\"btn btn-success\" onClick={this.save}>\n                            <i className=\"fa fa-check\"></i>\n                        </button>\n                        <button className=\"btn btn-danger\" onClick={this.closeForm}>\n                            <i className=\"fa fa-times\"></i>\n                        </button>\n                    </div>\n                </div>\n            );\n        } else {\n            value = <div\n                style={{\n                cursor: 'pointer'\n            }}\n                onClick={this.formMode}\n                className=\"col-sm-8 editItem\"\n                title=\"Click to edit\">{matchOption}</div>;\n        }\n\n        return (\n            <div>{value}</div>\n        );\n    },\n});\n\nvar ReasonInstruction = React.createClass({\n    getInitialState: function() {\n        return {editMode: false};\n    },\n\n    getDefaultProps: function() {\n        return {\n            value: '1',\n            editMode: false,\n            reasonId: 0,\n            reset: null,\n            update: null,\n            save: null,\n            reload: null,\n            currentEdit: null,\n            setCurrentEdit: null,\n        };\n    },\n\n    componentDidUpdate: function()\n    {\n        $('.editItem').focus();\n    },\n\n    componentDidMount: function() {\n        this.setState({editMode: this.props.editMode});\n    },\n\n    formMode: function() {\n        this.props.setCurrentEdit(this.props.reasonId, 3);\n        this.setState({editMode: true});\n    },\n\n    closeForm: function() {\n        this.setState({editMode: false,});\n        this.props.reset();\n    },\n\n    save: function() {\n        this.setState({editMode: false});\n        this.props.save();\n    },\n\n    render: function() {\n        var value = null;\n        var matchOption = null;\n        if (this.props.value === '1') {\n            matchOption = 'Sit down';\n        } else {\n            matchOption = 'See the front desk';\n        }\n\n        var selectOptions = [\n            {\n                value: '1',\n                label: 'Sit down',\n            }, {\n                value: '2',\n                label: 'See front desk',\n            },\n        ];\n\n        if (this.state.editMode && this.props.currentEdit.id == this.props.reasonId\n            && this.props.currentEdit.section == '3') {\n            value = (\n                <div className=\"row\">\n                    <div className=\"col-sm-8\">\n                        <ReasonSelect\n                            options={selectOptions}\n                            match={this.props.value}\n                            handleChange={this.props.update}/>\n                    </div>\n                    <div className=\"col-sm-4\">\n                        <button className=\"btn btn-success\" onClick={this.save}>\n                            <i className=\"fa fa-check\"></i>\n                        </button>\n                        <button className=\"btn btn-danger\" onClick={this.closeForm}>\n                            <i className=\"fa fa-times\"></i>\n                        </button>\n                    </div>\n                </div>\n            );\n        } else {\n            value = <div style={{cursor: 'pointer'}}\n                onClick={this.formMode}\n                className=\"col-sm-8 editItem\"\n                title=\"Click to edit\">{matchOption}</div>;\n        }\n\n        return (\n            <div>{value}</div>\n        )\n    },\n});\n\nvar ReasonSelect = React.createClass({\n    getDefaultProps: function() {\n        return {\n            match: '0',\n            handleChange: null,\n            options: null,\n        };\n    },\n\n    render: function() {\n        return (\n            <select\n                defaultValue={this.props.match}\n                className=\"form-control\"\n                onChange={this.props.handleChange}>\n                {this.props.options.map(function(value, key) {\n                    return (\n                        <option key={key} value={value.value}>{value.label}</option>\n                    );\n                }.bind(this))}\n            </select>\n        );\n    },\n});\n\nvar ReasonDescription = React.createClass({\n\n    getDefaultProps: function() {\n        return {\n            value: null,\n            reasonId: 0,\n            reload:null,\n            currentEdit: null,\n            setCurrentEdit: null,\n            update: null,\n            save: null,\n            reset: null,\n        };\n    },\n\n    render: function() {\n        return (\n            <ReasonValue {...this.props}\n            placeholder=\"Description of reason. Seen by visitors.\" section=\"2\"/>\n        );\n    },\n});\n\nvar ReasonValue = React.createClass({\n    getInitialState: function() {\n        return {editMode: false,};\n    },\n\n    getDefaultProps: function() {\n        return {\n            value : '',\n            reasonId: 0,\n            reload: null,\n            currentEdit: null,\n            setCurrentEdit: null,\n            update: null,\n            save: null,\n            placeholder: null,\n            section: 0,\n            reset: null,\n        };\n    },\n\n    closeInput: function() {\n        this.setState({editMode: false});\n        this.props.reset();\n    },\n\n    componentDidUpdate: function()\n    {\n        $('.editItem').focus();\n    },\n\n    openInput: function() {\n        this.props.setCurrentEdit(this.props.reasonId, this.props.section);\n        this.setState({editMode: true});\n    },\n\n    save: function() {\n        this.setState({editMode: false});\n        this.props.save();\n    },\n\n    render: function() {\n        var value = null;\n        if (this.state.editMode && this.props.currentEdit.id == this.props.reasonId\n            && this.props.currentEdit.section == this.props.section) {\n            value = (\n                <LineEdit placeholder={this.props.placeholder}\n                    update={this.props.update} value={this.props.value}\n                    close={this.closeInput} save={this.save}/>\n            );\n        } else {\n            value = (\n                <div className=\"editItem\" onClick={this.openInput} title=\"Click to edit\">{this.props.value}</div>\n            );\n        }\n\n        return (\n            <div>{value}</div>\n        );\n    },\n});\n\nvar LineEdit = React.createClass({\n    getDefaultProps: function() {\n        return {\n            placeholder: null,\n            defaultValue: null,\n            close: null,\n            update: null,\n            save: null,\n            value: '',\n        };\n    },\n\n    render: function() {\n        return (\n            <div className=\"input-group\">\n                <input type=\"text\"\n                    className=\"editItem form-control\"\n                    placeholder={this.props.placeholder}\n                    onChange={this.props.update}\n                    value={this.props.value}/>\n                <span className=\"input-group-btn\">\n                    <button className=\"btn btn-success\" onClick={this.props.save}>\n                        <i className=\"fa fa-check\"></i>\n                    </button>\n                    <button className=\"btn btn-danger\" onClick={this.props.close}>\n                        <i className=\"fa fa-times\"></i>\n                    </button>\n                </span>\n            </div>\n        );\n    },\n});\n\nvar FlipOption = React.createClass({\n    getDefaultProps: function() {\n        return {\n            handleClick: null,\n            active: false,\n            title: null,\n            label: null,\n            icon: null,\n        };\n    },\n\n    render: function() {\n        var divClass = null;\n        var iconClass = 'fa fa-lg ' + this.props.icon;\n\n        if (this.props.active) {\n            divClass = 'text-success'\n        } else {\n            divClass = 'dim'\n        }\n        return (\n            <div\n                onClick={this.props.handleClick}\n                className={divClass}\n                style={{\n                cursor: 'pointer'\n            }}>\n                <i className={iconClass} title={this.props.title}></i>\n                {this.props.label}</div>\n        );\n    },\n});\n\nvar ReasonForm = React.createClass({\n    getInitialState: function() {\n        return {\n            title: '',\n            description: '',\n            instruction: 1,\n            category: 1,\n            showEmergency: false,\n            askForPhone: 0,\n            waitListed: true,\n            formError: false,\n            instructionList: null,\n        };\n    },\n\n    getDefaultProps: function() {\n        return {closeForm: null, reload: null, fail: null,};\n    },\n\n    componentDidMount: function() {\n        $(function() {\n            $('[data-toggle=\"tooltip\"]').tooltip()\n        });\n    },\n\n    save: function(event) {\n        event.preventDefault();\n        if (this.state.title === null || this.state.title.length === 0) {\n            $('#title').css('borderColor', 'red');\n            this.setState({formError: true});\n            return;\n        }\n\n        if (this.state.description === null || this.state.description.length === 0) {\n            $('#description').css('borderColor', 'red');\n            this.setState({formError: true});\n            return;\n        }\n\n        this.setState({formError: false});\n        $.post('counseling/Admin/Settings/Reason', {\n            command: 'save',\n            reasonId: 0,\n            title: this.state.title,\n            description: this.state.description,\n            instruction: this.state.instruction,\n            category: this.state.category,\n            showEmergency: this.state.showEmergency,\n            askForPhone: this.state.askForPhone,\n            waitListed: this.state.waitListed,\n        }, null, 'json').done(function(data) {\n            this.props.reload();\n        }.bind(this)).fail(function() {\n            this.props.fail();\n        }.bind(this)).always(function() {\n            this.props.closeForm();\n        }.bind(this));\n    },\n\n    updateTitle: function(event) {\n        this.setState({title: event.target.value});\n    },\n\n    updateDescription: function(event) {\n        this.setState({description: event.target.value});\n    },\n\n    updateInstruction: function(event) {\n        this.setState({instruction: event.target.value});\n    },\n\n    updateCategory: function(event) {\n        this.setState({category: event.target.value});\n    },\n\n    updateEmergency: function(event) {\n        var showEmergency = event.target.checked;\n        var waitListed = this.state.waitListed;\n\n        if (showEmergency) {\n            waitListed = true;\n        }\n\n        this.setState({waitListed: waitListed, showEmergency: showEmergency,});\n    },\n\n    updateAskForPhone: function(event) {\n        this.setState({askForPhone: event.target.checked});\n    },\n\n    updateWaitListed: function(event) {\n        var waitListed = event.target.checked;\n        var showEmergency = this.state.showEmergency;\n\n        if (!waitListed) {\n            showEmergency = false;\n        }\n\n        this.setState({waitListed: waitListed, showEmergency: showEmergency,});\n    },\n\n    closeForm: function(event) {\n        event.preventDefault();\n        this.props.closeForm();\n    },\n\n    render: function() {\n        return (\n            <div\n                style={{\n                position: 'absolute',\n                width: '600px',\n                backgroundColor: 'white',\n                border: '1px solid black',\n                padding: '1em',\n                borderRadius: '10px',\n                zIndex: '50',\n            }}>\n                <form method=\"post\" action=\"counseling/Admin/Settings/Reasons\">\n                    <input type=\"hidden\" name=\"command\" value=\"add\"/>\n                    {this.state.formError ?\n                        <div className=\"alert alert-danger\" style={{fontSize: '1em'}}>\n                            Please complete all highlighted text inputs.\n                        </div>\n                        : null}\n                    <div className=\"form-group\">\n                        <TextInput\n                            inputId=\"title\"\n                            label=\"Title\"\n                            placeholder=\"One or two words describing reason. Internal use only.\"\n                            handleChange={this.updateTitle}\n                            required={true}\n                            tabIndex={1}\n                            value={this.state.title}/>\n                    </div>\n                    <div className=\"form-group\">\n                        <TextInput\n                            inputId=\"description\"\n                            label=\"Description\"\n                            placeholder=\"Description of reason. Seen by visitors.\"\n                            handleChange={this.updateDescription}\n                            required={true}\n                            tabIndex={2}\n                            value={this.state.description}/>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-sm-6\">\n                            <div className=\"form-group\">\n                                <label>Instructions</label>\n                                <p>\n                                 <label style={{marginRight: '2em'}}>\n                                        <input type=\"radio\" name=\"instruction\"\n                                            defaultValue=\"1\" defaultChecked={true}\n                                            tabIndex={3} onClick={this.updateInstruction}/>{' '}\n                                        Sit down\n                                    </label>\n                                    <label>\n                                        <input\n                                            type=\"radio\"\n                                            name=\"instruction\"\n                                            defaultValue=\"2\"\n                                            tabIndex={4}\n                                            onClick={this.updateInstruction}/>{' '}\n                                        Front desk\n                                    </label>\n                                </p>\n                            </div>\n                            <div className=\"form-group\">\n                                <label>\n                                    <input type=\"checkbox\" name=\"waitListed\" value=\"1\"\n                                        checked={this.state.waitListed}\n                                        onChange={this.updateWaitListed} tabIndex={7}/>{' '}\n                                    Put on wait list{' '}\n                                    <i className=\"fa fa-question-circle\" style={{cursor:'pointer'}}\n                                        data-toggle=\"tooltip\" data-placement=\"right\"\n                                        title=\"If checked, the visitor will be placed on the waiting list.\"></i>\n                                </label>\n                            </div>\n                            <div className=\"form-group\">\n                                <label>\n                                 <input type=\"checkbox\" name=\"showEmergency\" value=\"1\"\n                                    checked={this.state.showEmergency} onChange={this.updateEmergency}\n                                    tabIndex={5}/> Show emergency question{' '}\n                                    <i className=\"fa fa-question-circle\" style={{cursor:'pointer'}}\n                                        data-toggle=\"tooltip\" data-placement=\"right\"\n                                        title=\"If checked, the visitor will be asked if they have an emergency.\"></i>\n                                </label>\n                            </div>\n                            <div className=\"form-group\">\n                                <label>\n                                    <input\n                                        type=\"checkbox\"\n                                        name=\"askForPhone\"\n                                        value=\"1\"\n                                        checked={this.state.askForPhone}\n                                        onChange={this.updateAskForPhone}\n                                        tabIndex={8}/>{' '}\n                                    Ask for phone number &nbsp;\n                                    <i className=\"fa fa-question-circle\" style={{cursor:'pointer'}}\n                                        data-toggle=\"tooltip\" data-placement=\"right\"\n                                        title=\"If checked, the visitor will be asked for their phone number.\"></i>\n                                </label>\n                            </div>\n                        </div>\n                        <div className=\"col-sm-6\">\n                            <GroupSelect/>\n                        </div>\n                    </div>\n                    <button className=\"pull-left btn btn-primary\" onClick={this.save} tabIndex={8}>\n                        <i className=\"fa fa-check\"></i>\n                        Save reason</button>&nbsp;\n                    <button className=\"btn btn-danger\" onClick={this.closeForm} tabIndex={9}>\n                        <i className=\"fa fa-times\"></i>\n                        Cancel</button>\n                </form>\n            </div>\n        );\n    },\n});\n\nvar GroupSelect = React.createClass({\n\n    getDefaultProps: function() {\n        return {};\n    },\n\n    render: function() {\n        return (\n            <div>\n                <label>Category</label>\n                <div>\n                    <label>\n                        <input type=\"radio\" name=\"summaryGroup\" defaultValue=\"1\"\n                            onClick={this.updateCategory}/>{' '}\n                        <i className=\"fa fa-male fa-lg\"></i>{' '}\n                        Walk-in\n                    </label>\n                </div>\n                <div>\n                    <label>\n                        <input type=\"radio\" name=\"summaryGroup\" defaultValue=\"2\"\n                            onClick={this.updateCategory}/>{' '}\n                        <i className=\"fa fa-clock-o fa-lg\"></i>{' '}\n                        Appointment\n                    </label>\n                </div>\n                <div>\n                    <label>\n                        <input\n                            type=\"radio\"\n                            name=\"summaryGroup\"\n                            defaultChecked={true}\n                            defaultValue=\"0\"\n                            onClick={this.updateCategory}/>{' '}\n                        <i className=\"fa fa-question-circle fa-lg\"></i>{' '}\n                        Other\n                    </label>\n                </div>\n            </div>\n        );\n    },\n});\n\nvar Dispositions = React.createClass({\n    mixins: [FormMixin],\n\n    getInitialState: function() {\n        return {\n            dispositions : null,\n            saveFail: false,\n            currentEdit: null,\n            showForm: false,\n            currentDisposition : null\n        };\n    },\n\n    loadData : function() {\n        $.getJSON('counseling/Admin/Settings/Disposition', {\n        \tcommand : 'list'\n        }).done(function(data){\n            this.setState({\n                dispositions : data\n            });\n        }.bind(this));\n    },\n\n    setCurrentEdit: function(value) {\n        this.setState({currentEdit: value});\n    },\n\n    setDispositions : function(value) {\n        this.setState({dispositions:value});\n    },\n\n    render: function() {\n        var form = null;\n        var button = null;\n        if (this.state.showForm) {\n            form = (\n                <div className=\"form-box\">\n                    <DispositionForm closeForm={this.closeForm} reload={this.loadData}\n                        fail={this.saveFailure}/>\n                </div>\n            );\n        } else {\n            button = (\n                <button className=\"btn btn-success\" onClick={this.showForm} style={{marginBottom: '1em'}}>Add disposition&nbsp;\n                    <i className=\"fa fa-caret-down\"></i>\n                </button>\n            );\n        }\n        if (this.state.saveFail) {\n            alert = (<div className=\"alert alert-danger\">\n                <strong>\n                    <i className=\"fa fa-exclamation-triangle\"></i>\n                    Error:</strong>\n                Disposition save failed</div>\n            );\n        }\n        return (\n            <div>\n                <div className=\"disposition-form-area\">\n                    <div style={{position: 'relative'}}>\n                        {form}\n                    </div>\n                    <div style={{height:'50px'}}>\n                        {button}\n                    </div>\n                </div>\n                {alert}\n                <div>\n                    <DispositionList dispositions={this.state.dispositions} reload={this.loadData}\n                        currentEdit={this.state.currentEdit} setCurrentEdit={this.setCurrentEdit}\n                        showForm={this.showForm} setCurrent={this.setCurrentEdit}\n                        setDispositions={this.setDispositions}/>\n                </div>\n            </div>\n        );\n    }\n\n});\n\nvar DispositionList = React.createClass({\n\n    mixins : [sortable],\n\n    getInitialState: function() {\n        return {\n            dispositions : null,\n            editRow: null,\n            fail: false\n         };\n    },\n\n    getDefaultProps: function() {\n        return {\n            dispositions: null,\n            reload : null,\n            currentEdit : null,\n            setCurrentEdit : null,\n            setDispositions : null\n        };\n    },\n\n    edit: function(key) {\n        this.setState({editRow: key});\n    },\n\n    delete: function(did) {\n        $.post('counseling/Admin/Settings/Disposition', {\n        \tcommand : 'delete',\n            dispositionId : did\n        }, null, 'json')\n        \t.done(function(data){\n                this.props.reload();\n        \t}.bind(this));\n    },\n\n    cancel: function() {\n        this.setState({editRow: null});\n    },\n\n    fail : function () {\n        this.setState({\n            fail : true\n        });\n    },\n\n    componentDidMount: function() {\n        this.loadSortable('#disposition-listing');\n    },\n\n    updateSort : function(event, ui) {\n        var moved = ui.item;\n        var movedId = parseInt(moved.data('rowid'), 10);\n\n        var prevRow = ui.item.prev('tr.sorting-row');\n        var prevRowId = parseInt(prevRow.data('rowid'), 10);\n\n        var nextRow = ui.item.next('tr.sorting-row');\n        var nextRowId = parseInt(nextRow.data('rowid'), 10);\n\n        $(this.refs.sortRows).sortable('cancel');\n\n        var newList = this.resortReact(this.props.dispositions, movedId, prevRowId, nextRowId);\n        this.props.setDispositions(newList);\n\n        $.post('counseling/Admin/Settings/Disposition', {\n        \tcommand : 'sort',\n            moved : movedId,\n            next : nextRowId,\n            prev : prevRowId\n        }, null, 'json')\n        \t.done(function(data){\n        \t}.bind(this));\n    },\n\n    render: function() {\n        var rows = null;\n        var failure = null;\n        if (this.props.dispositions !== null) {\n            rows = this.props.dispositions.map(function(value, key) {\n                if (this.state.editRow === key) {\n                    return <DispositionEditRow key={value.id} {...value} cancel={this.cancel} reload={this.props.reload} fail={this.fail}/>\n                } else {\n                    return <DispositionListRow key={value.id} {...value} edit={this.edit.bind(null, key)} delete={this.delete}/>;\n                }\n            }.bind(this));\n        }\n        if (this.state.fail) {\n            failure = (\n                <div className=\"alert alert-danger\">\n                    <i className=\"fa fa-exclamation-triangle\"></i>&nbsp;\n                    Failed to update disposition\n                </div>\n            );\n        }\n        return (\n            <div id=\"sortBox\">\n                {failure}\n                <table className=\"table table-striped\">\n                    <thead>\n                        <tr>\n                            <th>Action</th>\n                            <th>Name</th>\n                        </tr>\n                    </thead>\n                    <tbody ref=\"sortRows\">\n                        {rows}\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n});\n\nvar DispositionListRow = React.createClass({\n    getDefaultProps: function() {\n        return {\n            title: null,\n            icon : 'fa-times',\n            color : 'default',\n            id:null,\n            edit: null,\n            sorting : null,\n            delete: null\n        };\n    },\n\n    deleteCheck : function() {\n        if (window.confirm('Are you sure you want to remove this disposition?')) {\n            this.props.delete(this.props.id);\n        }\n    },\n\n    render: function() {\n        var iconClass = 'fa fa-' + this.props.icon;\n        var buttonClass = 'btn btn-block btn-' + this.props.color;\n\n        return (\n            <tr className=\"sorting-row\" data-rowid={this.props.id} id={this.props.id}>\n                <td className='col-xs-3'>\n                    <button className=\"btn btn-default handle\"><i className=\"fa fa-arrows\"></i></button>&nbsp;\n                    <button className=\"btn btn-primary btn-sm\" onClick={this.props.edit} title=\"Edit disposition\">\n                        <i className=\"fa fa-edit\"></i>\n                    </button>&nbsp;\n                    <button className=\"btn btn-danger btn-sm\"\n                        onClick={this.deleteCheck} title=\"Delete disposition\">\n                        <i className=\"fa fa-times\"></i>\n                    </button>\n                </td>\n                <td>\n                    <button className={buttonClass}><i className={iconClass}></i>&nbsp;{this.props.title}</button>\n                </td>\n            </tr>\n        );\n    }\n\n});\n\nvar DispositionForm = React.createClass({\n    mixins : [colorPicker],\n\n    getInitialState: function() {\n        return {\n            title: '',\n            color : 'default',\n            icon : null,\n            formError: ''\n        };\n    },\n\n    getDefaultProps: function() {\n        return {\n            closeForm: null,\n            reload: null,\n            fail: null,\n            title : '',\n            color : 'default',\n            icon : null,\n            dispositionId : 0\n        };\n    },\n\n    componentWillMount: function(prevProps, prevState) {\n        this.setState({\n            title : this.props.title,\n            color : this.props.color,\n            icon : this.props.icon,\n            dispositionId : this.props.dispositionId\n        });\n    },\n\n    componentDidMount: function() {\n        $('#title').focus();\n    },\n\n    closeForm: function(event) {\n        event.preventDefault();\n        this.props.closeForm();\n    },\n\n    updateTitle: function(event) {\n        this.setState({title: event.target.value});\n    },\n\n    save: function(event) {\n        event.preventDefault();\n\n        if (this.state.title === null || this.state.title.length === 0) {\n            $('#title').css('borderColor', 'red');\n            this.setState({formError: 'Title empty'});\n            return;\n        }\n\n        this.setState({formError: false});\n        $.post('counseling/Admin/Settings/Disposition', {\n            command: 'save',\n            dispositionId: this.state.dispositionId,\n            title: this.state.title,\n            icon : this.state.icon,\n            color : this.state.color\n        }, null, 'json').done(function(data) {\n            this.props.reload();\n        }.bind(this)).fail(function() {\n            this.props.fail();\n        }.bind(this)).always(function() {\n            this.props.closeForm();\n        }.bind(this));\n\n    },\n\n    pickIcon: function(icon, event) {\n        event.preventDefault();\n        this.setState({\n            icon : icon\n        });\n    },\n\n    render: function() {\n        var alert = null;\n        if (this.state.formError.length > 0) {\n            alert = <div className=\"alert alert-danger\" style={{fontSize: '1em'}}>\n                {this.state.formError}</div>;\n        }\n        return (\n            <div className=\"disposition-form\">\n                {alert}\n                <CurrentIcon icon={this.state.icon} color={this.state.color} title={this.state.title}/>\n                <form method=\"post\" action=\"counseling/Admin/Settings/Disposition\">\n                    <input type=\"hidden\" name=\"command\" value=\"add\"/>\n                    <TextInput inputId=\"title\" label=\"Disposition title\"\n                        handleChange={this.updateTitle} required={true}\n                        tabIndex={1} value={this.state.title}/>\n                    <label>Button color</label>\n                    <PickColor handleClick={this.pickColor}/>\n                    <label>Icon</label>\n                    <DispositionIcons handleClick={this.pickIcon}/>\n                    <hr />\n                    <button className=\"pull-left btn btn-primary\" onClick={this.save} tabIndex={2}>\n                        <i className=\"fa fa-check\"></i>\n                        Save Disposition</button>&nbsp;\n                    <button className=\"btn btn-danger\" onClick={this.closeForm} tabIndex={3}>\n                        <i className=\"fa fa-exclamation-triangle\"></i>\n                        Cancel</button>\n                </form>\n            </div>\n        );\n    }\n});\n\n\nvar CurrentIcon = React.createClass({\n    getDefaultProps: function() {\n        return {\n            color : null,\n            icon : null,\n            title : ''\n        };\n    },\n\n    render: function() {\n        var buttonClass = 'btn btn-block btn-lg btn-' + this.props.color;\n        var iconClass = 'fa fa-' + this.props.icon;\n        var title = (this.props.title === null || this.props.title.length === 0) ? 'Sample' : this.props.title;\n\n        return (\n            <div className=\"text-center\">\n                <button className={buttonClass}><i className={iconClass}></i> {title}</button>\n            </div>\n        );\n    }\n\n});\n\nvar DispositionIcons = React.createClass({\n\n    getDefaultProps: function() {\n        return {\n        };\n    },\n\n    render: function() {\n        return (\n            <div>\n                <table className=\"table\">\n                    <tbody>\n                        <tr>\n                            <td><IconButton label=\"archive\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"automobile\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"balance-scale\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"ban\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"bank\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"bed\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"bell\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"binoculars\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"book\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"briefcase\" handleClick={this.props.handleClick}/></td>\n                        </tr>\n                        <tr>\n                            <td><IconButton label=\"building\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"bullhorn\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"camera\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"coffee\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"cog\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"comment\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"envelope\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"exclamation-circle\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"eye\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"flag\" handleClick={this.props.handleClick}/></td>\n                        </tr>\n                        <tr>\n                            <td><IconButton label=\"flask\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"folder-o\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"gavel\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"globe\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"users\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"heart\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"home\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"hourglass-1\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"calendar\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"life-ring\" handleClick={this.props.handleClick}/></td>\n                        </tr>\n                        <tr>\n                            <td><IconButton label=\"lightbulb-o\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"male\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"female\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"map-o\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"microphone\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"money\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"music\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"paint-brush\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"pencil\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"phone\" handleClick={this.props.handleClick}/></td>\n                        </tr>\n                        <tr>\n                            <td><IconButton label=\"plug\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"print\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"puzzle-piece\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"trophy\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"umbrella\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"user-plus\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"warning\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"wrench\" handleClick={this.props.handleClick}/></td>\n                            <td><IconButton label=\"comments-o\" handleClick={this.props.handleClick}/></td>\n                            <td>&nbsp;</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n\n});\n\nvar IconButton = React.createClass({\n    getDefaultProps: function() {\n        return {\n            label : null,\n            handleClick : null\n        };\n    },\n\n    render: function() {\n        var iconClassName = 'fa fa-' + this.props.label;\n        return (\n            <button className=\"btn btn-default\" onClick={this.props.handleClick.bind(null, this.props.label)}><i className={iconClassName}></i></button>\n        );\n    }\n\n});\n\nvar DispositionEditRow = React.createClass({\n    componentDidMount: function() {\n        $('.form-anchor')[0].scrollIntoView({behavior : 'smooth'});\n    },\n\n    getDefaultProps: function() {\n        return {\n            title : null,\n            color : null,\n            icon : null,\n            cancel : null,\n            reload : null\n        };\n    },\n\n    render: function() {\n        return (\n            <tr>\n                <td colSpan=\"2\">\n                    <div className=\"form-anchor\"></div>\n                    <div className=\"active-form\">\n                        <DispositionForm\n                            closeForm={this.props.cancel}\n                            reload={this.props.reload}\n                            fail={this.props.fail}\n                            title={this.props.title}\n                            icon={this.props.icon}\n                            color={this.props.color}\n                            dispositionId={this.props.id}\n                            />\n                    </div>\n                </td>\n            </tr>\n        );\n    }\n});\n\nvar Clinicians = React.createClass({\n    mixins: [FormMixin],\n\n    getInitialState: function() {\n        return {\n            showForm: false,\n            clinicians: null,\n            saveFail: false,\n            currentEdit: null\n        };\n    },\n\n    loadData: function() {\n        $.getJSON('counseling/Admin/Settings/Clinician', {\n            command: 'list'\n        }).done(function(data) {\n            this.setState({clinicians: data});\n        }.bind(this));\n    },\n\n    setCurrentEdit: function(value) {\n        this.setState({currentEdit: value});\n    },\n\n    setClinicians : function(value) {\n        this.setState({clinicians : value});\n    },\n\n    render: function() {\n        var form = null;\n        var button = null;\n\n        if (this.state.showForm) {\n            form = (\n                <div className=\"form-box\">\n                    <ClinicianForm closeForm={this.closeForm} reload={this.loadData}\n                        fail={this.saveFailure}/>\n                </div>\n            );\n        } else {\n            button = <button className=\"btn btn-success\" onClick={this.showForm}\n                style={{marginBottom: '1em'}}>Add clinician&nbsp;\n                <i className=\"fa fa-caret-down\"></i>\n            </button>;\n        }\n        if (this.state.saveFail) {\n            alert = <div className=\"alert alert-danger\">\n                <strong>\n                    <i className=\"fa fa-exclamation-triangle\"></i>\n                    Error:</strong>\n                Clinician save failed</div>;\n        }\n        return (\n            <div>\n                <div className=\"clinician-form-area\">\n                    <div style={{position: 'relative'}}>\n                        {form}\n                    </div>\n                    <div style={{height:'50px'}}>\n                        {button}\n                    </div>\n                </div>\n                {alert}\n                <div className=\"clinician-listing\">\n                    <ClinicianList clinicians={this.state.clinicians} reload={this.loadData}\n                        currentEdit={this.state.currentEdit} setCurrentEdit={this.setCurrentEdit}\n                        setClinicians={this.setClinicians}/>\n                </div>\n            </div>\n        );\n    }\n\n});\n\nvar ClinicianForm = React.createClass({\n    getInitialState: function() {\n        return {firstName: null, lastName: null, formError: ''};\n    },\n\n    getDefaultProps: function() {\n        return {\n            closeForm: null,\n            reload: null,\n            fail: null,\n            firstName : null,\n            lastName : null,\n            clinicianId : 0\n        };\n    },\n\n    componentWillMount: function(prevProps, prevState) {\n        this.setState({\n            firstName : this.props.firstName,\n            lastName : this.props.lastName,\n            clinicianId : this.props.clinicianId\n        });\n    },\n\n    componentDidMount: function() {\n        $('#firstName').focus();\n    },\n\n    closeForm: function(event) {\n        event.preventDefault();\n        this.props.closeForm();\n    },\n\n    updateFirstName: function(event) {\n        this.setState({firstName: event.target.value});\n    },\n\n    updateLastName: function(event) {\n        this.setState({lastName: event.target.value});\n    },\n\n    save: function(event) {\n        event.preventDefault();\n\n        if (this.state.firstName === null || this.state.firstName.length === 0) {\n            $('#firstName').css('borderColor', 'red');\n            this.setState({formError: 'First name empty'});\n            return;\n        }\n        if (this.state.lastName === null || this.state.lastName.length === 0) {\n            var splitString = this.state.firstName.split(' ');\n            if (splitString.length === 2) {\n                this.setState({\n                    firstName : splitString[0],\n                    lastName : splitString[1],\n                    formError: 'Last name empty. Did you type the full name in the first name field?'\n                });\n                return;\n            }\n\n            $('#lastName').css('borderColor', 'red');\n            this.setState({formError: 'Last name empty.'});\n            return;\n        }\n\n        this.setState({formError: false});\n        $.post('counseling/Admin/Settings/Clinician', {\n            command: 'save',\n            clinicianId: this.state.clinicianId,\n            firstName: this.state.firstName,\n            lastName: this.state.lastName\n        }, null, 'json').done(function(data) {\n            this.props.reload();\n        }.bind(this)).fail(function() {\n            this.props.fail();\n        }.bind(this)).always(function() {\n            this.props.closeForm();\n        }.bind(this));\n\n    },\n\n    render: function() {\n        var alert = null;\n        if (this.state.formError.length > 0) {\n            alert = <div className=\"alert alert-danger\" style={{fontSize: '1em'}}>\n                {this.state.formError}</div>;\n        }\n\n        return (\n            <div>\n                {alert}\n                <div className=\"row\">\n                    <form method=\"post\" action=\"counseling/Admin/Settings/Clinicians\">\n                        <input type=\"hidden\" name=\"command\" value=\"add\"/>\n                        <div className=\"col-sm-6\">\n                            <TextInput inputId=\"firstName\" label=\"First name\"\n                                handleChange={this.updateFirstName} required={true}\n                                tabIndex={1} value={this.state.firstName}/>\n                            <button className=\"pull-left btn btn-primary\" onClick={this.save} tabIndex={2}>\n                                <i className=\"fa fa-check\"></i>\n                                Save Clinician</button>&nbsp;\n                            <button className=\"btn btn-danger\" onClick={this.closeForm} tabIndex={3}>\n                                <i className=\"fa fa-exclamation-triangle\"></i>\n                                Cancel</button>\n                        </div>\n                        <div className=\"col-sm-6\">\n                            <TextInput inputId=\"lastName\" label=\"Last name\"\n                                handleChange={this.updateLastName} required={true}\n                                tabIndex={1} value={this.state.lastName}/>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        );\n    }\n\n});\n\nvar ClinicianList = React.createClass({\n\n    mixins : [sortable],\n\n    getInitialState: function() {\n        return {\n            editRow: null,\n            fail: false\n         };\n    },\n\n    getDefaultProps: function() {\n        return {\n            clinicians: null,\n            reload : null,\n            currentEdit : null,\n            setCurrentEdit : null,\n            setClinicians : null\n        };\n    },\n\n    componentDidMount: function() {\n        this.loadSortable();\n    },\n\n    edit: function(key) {\n        this.setState({editRow: key});\n    },\n\n    delete: function(cid) {\n        $.post('counseling/Admin/Settings/Clinician', {\n        \tcommand : 'delete',\n            clinicianId : cid\n        }, null, 'json')\n        \t.done(function(data){\n                this.props.reload();\n        \t}.bind(this));\n    },\n\n    cancel: function() {\n        this.setState({editRow: null});\n    },\n\n    fail : function () {\n        this.setState({\n            fail : true\n        });\n    },\n\n    updateSort : function(event, ui) {\n        var moved = ui.item;\n        var movedId = parseInt(moved.data('rowid'), 10);\n\n        var prevRow = ui.item.prev('tr.sorting-row');\n        var prevRowId = parseInt(prevRow.data('rowid'), 10);\n\n        var nextRow = ui.item.next('tr.sorting-row');\n        var nextRowId = parseInt(nextRow.data('rowid'), 10);\n\n        $(this.refs.sortRows).sortable('cancel');\n\n        var newList = this.resortReact(this.props.clinicians, movedId, prevRowId, nextRowId);\n        this.props.setClinicians(newList);\n\n        $.post('counseling/Admin/Settings/Clinician', {\n        \tcommand : 'sort',\n            moved : movedId,\n            next : nextRowId,\n            prev : prevRowId\n        }, null, 'json')\n        \t.done(function(data){\n        \t}.bind(this));\n    },\n\n    render: function() {\n        var rows = null;\n        var failure = null;\n\n        if (this.props.clinicians !== null) {\n            rows = this.props.clinicians.map(function(value, key) {\n                if (this.state.editRow === key) {\n                    return <ClinicianEditRow key={value.id} {...value} cancel={this.cancel} reload={this.props.reload} fail={this.fail}/>\n                } else {\n                    return <ClinicianListRow key={value.id} {...value} edit={this.edit.bind(null, key)}\n                        delete={this.delete}/>;\n                }\n            }.bind(this));\n        }\n\n        if (this.state.fail) {\n            failure = (\n                <div className=\"alert alert-danger\">\n                    <i className=\"fa fa-exclamation-triangle\"></i>&nbsp;\n                    Failed to update clinician\n                </div>\n            );\n        }\n        return (\n            <div id=\"sortBox\">\n                {failure}\n                <table className=\"table table-striped\">\n                    <thead>\n                        <tr>\n                            <th>&nbsp;</th>\n                            <th>Name</th>\n                        </tr>\n                    </thead>\n                    <tbody ref=\"sortRows\">\n                        {rows}\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n});\n\nvar ClinicianListRow = React.createClass({\n    getDefaultProps: function() {\n        return {\n            first_name: null,\n            last_name: null,\n            id:null,\n            edit: null,\n            delete: null\n        };\n    },\n\n    render: function() {\n        return (\n            <tr className=\"sorting-row\" data-rowid={this.props.id} id={this.props.id}>\n                <td className='col-sm-3'>\n                    <button className=\"btn btn-default handle\"><i className=\"fa fa-arrows\"></i></button>&nbsp;\n                    <button className=\"btn btn-primary btn-sm\" onClick={this.props.edit} title=\"Edit clinician\">\n                        <i className=\"fa fa-edit\"></i>\n                    </button>&nbsp;\n                    <button className=\"btn btn-danger btn-sm\"\n                        onClick={this.props.delete.bind(null, this.props.id)} title=\"Delete clinician\">\n                        <i className=\"fa fa-times\"></i>\n                    </button>\n                </td>\n                <td>\n                    {this.props.first_name}&nbsp;\n                    {this.props.last_name}\n                </td>\n            </tr>\n        );\n    }\n\n});\n\nvar ClinicianEditRow = React.createClass({\n    getDefaultProps: function() {\n        return {\n            first_name : null,\n            last_name : null,\n            cancel : null,\n            reload : null\n        };\n    },\n\n    render: function() {\n        return (\n            <tr>\n                <td colSpan=\"2\">\n                    <ClinicianForm\n                        closeForm={this.props.cancel}\n                        reload={this.props.reload}\n                        fail={this.props.fail}\n                        firstName={this.props.first_name}\n                        lastName={this.props.last_name}\n                        clinicianId={this.props.id}\n                        />\n                </td>\n            </tr>\n        );\n    }\n\n});\n\nvar SettingsDashboard = React.createClass({\n    getInitialState: function() {\n        return {\n            tab : 'Reasons'\n        };\n    },\n\n    selectTab : function(tab) {\n        this.setState({tab:tab});\n    },\n\n    render: function() {\n        return (\n            <div className=\"settingsDashboard\">\n                <h2>Counseling Check-In Settings</h2>\n                <ul className=\"nav nav-tabs\">\n                    <Tab active={this.state.tab == 'Clinicians'} label={'Clinicians'} handleClick={this.selectTab.bind(this, 'Clinicians')}/>\n                    <Tab active={this.state.tab == 'Reasons'} label={'Reasons'} handleClick={this.selectTab.bind(this, 'Reasons')}/>\n                    <Tab active={this.state.tab == 'Dispositions'} label={'Dispositions'} handleClick={this.selectTab.bind(this, 'Dispositions')}/>\n                </ul>\n                <div style={{marginTop:'1em'}}>\n                    <Content tab={this.state.tab} />\n                </div>\n            </div>\n        );\n    }\n\n});\n\nvar Tab = React.createClass({\n    getDefaultProps: function() {\n        return {\n            active : false,\n            label : null\n        };\n    },\n\n    render: function() {\n        return (\n            <li role=\"presentation\" onClick={this.props.handleClick} className={this.props.active ? 'active' : null}>\n                <a className=\"pointer\">{this.props.label}</a>\n            </li>\n        );\n    }\n\n});\n\nvar Content = React.createClass({\n    mixins : ['TextInput'],\n\n    getInitialState: function() {\n        return {\n        };\n    },\n\n    getDefaultProps: function() {\n        return {\n            tab : null\n        };\n    },\n\n    render: function() {\n        var content = null;\n        switch (this.props.tab) {\n            case 'Clinicians':\n            content = <Clinicians />\n            break;\n\n            case 'Reasons':\n            content = <Reasons />\n            break;\n\n            case 'Visitors':\n            content = <Visitors />\n            break;\n\n            case 'Visits':\n            content = <Visits />\n            break;\n\n            case 'Dispositions':\n            content = <Dispositions />\n            break;\n        }\n\n        return (\n            <div>{content}</div>\n        );\n    }\n\n});\n\nvar BoolIcon = React.createClass({\n    getDefaultProps: function() {\n        return {\n            bool : true,\n            handleClick : null\n        };\n    },\n\n    render: function() {\n        var _className = this.props.bool === '1' ? 'fa fa-thumbs-o-up text-success' : 'fa fa-thumbs-o-down text-danger';\n\n        if (this.props.handleClick !== null) {\n            _className += ' pointer';\n        }\n\n        return (\n            <i className={_className} onClick={this.props.handleClick}></i>\n        );\n    }\n});\n\n\nReactDOM.render(<SettingsDashboard/>, document.getElementById('settings-dashboard'));\n\nvar Visitors = React.createClass({\n    getInitialState: function() {\n        return {\n        };\n    },\n\n    getDefaultProps: function() {\n        return {\n        };\n    },\n\n    render: function() {\n        return (\n            <div>Visitors</div>\n        );\n    }\n\n});\n\nvar Visits = React.createClass({\n    getInitialState: function() {\n        return {\n        };\n    },\n\n    getDefaultProps: function() {\n        return {\n        };\n    },\n\n    render: function() {\n        return (\n            <div>Visits</div>\n        );\n    }\n\n});\n"]}